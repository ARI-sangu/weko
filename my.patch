diff --git a/docker-compose.full.yml b/docker-compose.full.yml
deleted file mode 100644
index 412898f..0000000
--- a/docker-compose.full.yml
+++ /dev/null
@@ -1,193 +0,0 @@
-# -*- coding: utf-8 -*-
-#
-# This file is part of WEKO3.
-# Copyright (C) 2017 National Institute of Informatics.
-#
-# WEKO3 is free software; you can redistribute it
-# and/or modify it under the terms of the GNU General Public License as
-# published by the Free Software Foundation; either version 2 of the
-# License, or (at your option) any later version.
-#
-# WEKO3 is distributed in the hope that it will be
-# useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
-# General Public License for more details.
-#
-# You should have received a copy of the GNU General Public License
-# along with WEKO3; if not, write to the
-# Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
-# MA 02111-1307, USA.
-
-version: "3.2"
-services:
-  web:
-    restart: "always"
-    build: .
-    command: /bin/bash -c "rm -f /code/celeryd.pid; celery worker -A invenio_app.celery --loglevel=INFO -B -D && uwsgi --ini /code/scripts/uwsgi.ini"
-    environment:
-      - PATH=/home/invenio/.virtualenvs/invenio/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
-      - VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
-      - INVENIO_WEB_HOST=127.0.0.1
-      - INVENIO_WEB_INSTANCE=invenio
-      - INVENIO_WEB_VENV=invenio
-      - INVENIO_USER_EMAIL=info@inveniosoftware.org
-      - INVENIO_USER_PASS=uspass123
-      - INVENIO_POSTGRESQL_HOST=postgresql
-      - INVENIO_POSTGRESQL_DBNAME=invenio
-      - INVENIO_POSTGRESQL_DBUSER=invenio
-      - INVENIO_POSTGRESQL_DBPASS=dbpass123
-      - INVENIO_REDIS_HOST=redis
-      - INVENIO_ELASTICSEARCH_HOST=elasticsearch
-      - INVENIO_RABBITMQ_HOST=rabbitmq
-      - INVENIO_WORKER_HOST=127.0.0.1
-      - INVENIO_FILES_LOCATION_NAME=local
-      - INVENIO_FILES_LOCATION_URI=/var/tmp
-      - INVENIO_ROLE_SYSTEM=System Administrator
-      - INVENIO_ROLE_REPOSITORY=Repository Administrator
-      - INVENIO_ROLE_CONTRIBUTOR=Contributor
-      - INVENIO_ROLE_COMMUNITY=Community Administrator
-      - FLASK_DEBUG=1
-      - SEARCH_INDEX_PREFIX=tenant1
-    volumes:
-      - weko3_data:/var/tmp
-      - static_data:/home/invenio/.virtualenvs/invenio/var/instance/static
-      - type: bind
-        source: .
-        target: /code
-      - /code/modules/invenio-oaiserver/invenio_oaiserver.egg-info
-      - /code/modules/weko-theme/weko_theme.egg-info
-      - /code/modules/weko-itemtypes-ui/weko_itemtypes_ui.egg-info
-      - /code/modules/weko-items-ui/weko_items_ui.egg-info
-      - /code/modules/weko-accounts/weko_accounts.egg-info
-      - /code/modules/weko-admin/weko_admin.egg-info
-      - /code/modules/weko-logging/weko_logging.egg-info
-      - /code/modules/weko-gridlayout/weko_gridlayout.egg-info
-      - /code/modules/weko-groups/weko_groups.egg-info
-      - /code/modules/weko-search-ui/weko_search_ui.egg-info
-      - /code/modules/weko-records/weko_records.egg-info
-      - /code/modules/weko-records-ui/weko_records_ui.egg-info
-      - /code/modules/weko-schema-ui/weko_schema_ui.egg-info
-      - /code/modules/weko-index-tree/weko_index_tree.egg-info
-      - /code/modules/weko-user-profiles/weko_user_profiles.egg-info
-      - /code/modules/weko-deposit/weko_deposit.egg-info
-      - /code/modules/weko-authors/weko_authors.egg-info
-      - /code/modules/weko-handle/weko_handle.egg-info
-      - /code/modules/weko-workflow/weko_workflow.egg-info
-      - /code/modules/weko-indextree-journal/weko_indextree_journal.egg-info
-      - /code/modules/weko-bulkupdate/weko_bulkupdate.egg-info
-      - /code/modules/weko-items-autofill/weko_items_autofill.egg-info
-      - /code/modules/weko-sitemap/weko_sitemap.egg-info
-    user: invenio
-    links:
-      - postgresql
-      - redis
-      - elasticsearch
-      - rabbitmq
-    ports:
-      - "5001:5000"
-
-  postgresql:
-    restart: "always"
-    image: postgres
-    environment:
-      - POSTGRES_USER=invenio
-      - POSTGRES_DB=invenio
-      - POSTGRES_PASSWORD=dbpass123
-    volumes:
-      - pgsql-data:/var/lib/postgresql/data
-    ports:
-      - "25401:5432"
-
-  redis:
-    restart: "always"
-    image: redis
-    ports:
-      - "26301:6379"
-
-  elasticsearch:
-    restart: "always"
-    build:
-      context: .
-      dockerfile: ./elasticsearch/Dockerfile
-    volumes:
-      - es-data:/usr/share/elasticsearch/data
-    environment:
-      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
-    ports:
-      - "29201:9200"
-      - "29301:9300"
-
-  rabbitmq:
-    restart: "always"
-    image: rabbitmq
-    ports:
-      - "24301:4369"
-      - "45601:25672"
-
-  nginx:
-    restart: "always"
-    build: ./nginx
-    ports:
-      - "80:80"
-      - "443:443"
-    volumes:
-      - static_data:/home/invenio/.virtualenvs/invenio/var/instance/static
-    links:
-      - web
-
-  flower:
-    restart: "always"
-    image: mher/flower
-    command: --broker=amqp://guest:guest@rabbitmq:5672// --broker_api=http://guest:guest@rabbitmq:5671/api/
-    ports:
-      - "5501:5555"
-    links:
-      - rabbitmq
-
-  kibana:
-    build:
-      context: .
-      dockerfile: ./kibana/Dockerfile
-    restart: "always"
-    command: kibana
-    ports:
-      - "5601:5601"
-    environment:
-      - "ELASTICSEARCH_URL=http://elasticsearch:9200"
-      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
-    links:
-      - elasticsearch
-
-  cadvisor:
-    restart: "always"
-    image: google/cadvisor:latest
-    ports:
-      - "8080:8080"
-    cap_add:
-      - SYS_TIME
-    privileged: true
-    volumes:
-      - /:/rootfs:ro
-      - /var/run:/var/run:rw
-      - /sys:/sys:ro
-      - /var/lib/docker/:/var/lib/docker:ro
-      - /cgroup:/cgroup:ro
-
-  node_exporter:
-    restart: "always"
-    image: prom/node-exporter
-    ports:
-      - "9100:9100"
-    cap_add:
-      - SYS_TIME
-    volumes:
-      - /proc:/host/proc
-      - /sys:/host/sys
-      - /:/rootfs
-
-volumes:
-  weko3_data:
-  static_data:
-  pgsql-data:
-  es-data:
-
diff --git a/docker-compose.yml b/docker-compose.yml
index 4b07392..7e262bd 100644
--- a/docker-compose.yml
+++ b/docker-compose.yml
@@ -1,7 +1,7 @@
 # -*- coding: utf-8 -*-
 #
 # This file is part of WEKO3.
-# Copyright (C) 2197 National Institute of Informatics.
+# Copyright (C) 2017 National Institute of Informatics.
 #
 # WEKO3 is free software; you can redistribute it
 # and/or modify it under the terms of the GNU General Public License as
@@ -18,149 +18,138 @@
 # Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,
 # MA 02111-1307, USA.
 
-version: "3.2"
-services:
-  web:
-    restart: "always"
-    build: .
-    command: /bin/bash -c "rm -f /code/celeryd.pid; celery worker -A invenio_app.celery --loglevel=INFO -B -D && uwsgi --ini /code/scripts/uwsgi.ini"
-    environment:
-      - PATH=/home/invenio/.virtualenvs/invenio/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
-      - VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
-      - INVENIO_WEB_HOST=127.0.0.1
-      - INVENIO_WEB_INSTANCE=invenio
-      - INVENIO_WEB_VENV=invenio
-      - INVENIO_USER_EMAIL=info@inveniosoftware.org
-      - INVENIO_USER_PASS=uspass123
-      - INVENIO_POSTGRESQL_HOST=postgresql
-      - INVENIO_POSTGRESQL_DBNAME=invenio
-      - INVENIO_POSTGRESQL_DBUSER=invenio
-      - INVENIO_POSTGRESQL_DBPASS=dbpass123
-      - INVENIO_REDIS_HOST=redis
-      - INVENIO_ELASTICSEARCH_HOST=elasticsearch
-      - INVENIO_RABBITMQ_HOST=rabbitmq
-      - INVENIO_WORKER_HOST=127.0.0.1
-      - INVENIO_FILES_LOCATION_NAME=local
-      - INVENIO_FILES_LOCATION_URI=/var/tmp
-      - INVENIO_ROLE_SYSTEM=System Administrator
-      - INVENIO_ROLE_REPOSITORY=Repository Administrator
-      - INVENIO_ROLE_CONTRIBUTOR=Contributor
-      - INVENIO_ROLE_COMMUNITY=Community Administrator
-      - FLASK_DEBUG=1
-      - SEARCH_INDEX_PREFIX=tenant1
-    volumes:
-      - weko3_data:/var/tmp
-      - static_data:/home/invenio/.virtualenvs/invenio/var/instance/static
-      - type: bind
-        source: .
-        target: /code
-      - /code/modules/invenio-oaiserver/invenio_oaiserver.egg-info
-      - /code/modules/weko-theme/weko_theme.egg-info
-      - /code/modules/weko-itemtypes-ui/weko_itemtypes_ui.egg-info
-      - /code/modules/weko-items-ui/weko_items_ui.egg-info
-      - /code/modules/weko-accounts/weko_accounts.egg-info
-      - /code/modules/weko-admin/weko_admin.egg-info
-      - /code/modules/weko-logging/weko_logging.egg-info
-      - /code/modules/weko-gridlayout/weko_gridlayout.egg-info
-      - /code/modules/weko-groups/weko_groups.egg-info
-      - /code/modules/weko-search-ui/weko_search_ui.egg-info
-      - /code/modules/weko-records/weko_records.egg-info
-      - /code/modules/weko-records-ui/weko_records_ui.egg-info
-      - /code/modules/weko-schema-ui/weko_schema_ui.egg-info
-      - /code/modules/weko-index-tree/weko_index_tree.egg-info
-      - /code/modules/weko-user-profiles/weko_user_profiles.egg-info
-      - /code/modules/weko-deposit/weko_deposit.egg-info
-      - /code/modules/weko-authors/weko_authors.egg-info
-      - /code/modules/weko-handle/weko_handle.egg-info
-      - /code/modules/weko-workflow/weko_workflow.egg-info
-      - /code/modules/weko-indextree-journal/weko_indextree_journal.egg-info
-      - /code/modules/weko-bulkupdate/weko_bulkupdate.egg-info
-      - /code/modules/weko-items-autofill/weko_items_autofill.egg-info
-      - /code/modules/weko-sitemap/weko_sitemap.egg-info
-    user: invenio
-    links:
-      - postgresql
-      - redis
-      - elasticsearch
-      - rabbitmq
-    ports:
-      - "5019:5000"
+web:
+  restart: "always"
+  build: .
+  command: /bin/bash -c "rm -f /code/celeryd.pid; celery worker -A invenio_app.celery --loglevel=INFO -B -D && uwsgi --ini /code/scripts/uwsgi.ini"
+  environment:
+    - PATH=/home/invenio/.virtualenvs/invenio/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
+    - VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
+    - INVENIO_WEB_HOST=127.0.0.1
+    - INVENIO_WEB_INSTANCE=invenio
+    - INVENIO_WEB_VENV=invenio
+    - INVENIO_USER_EMAIL=info@inveniosoftware.org
+    - INVENIO_USER_PASS=uspass123
+    - INVENIO_POSTGRESQL_HOST=postgresql
+    - INVENIO_POSTGRESQL_DBNAME=invenio
+    - INVENIO_POSTGRESQL_DBUSER=invenio
+    - INVENIO_POSTGRESQL_DBPASS=dbpass123
+    - INVENIO_REDIS_HOST=redis
+    - INVENIO_ELASTICSEARCH_HOST=elasticsearch
+    - INVENIO_RABBITMQ_HOST=rabbitmq
+    - INVENIO_WORKER_HOST=127.0.0.1
+    - INVENIO_FILES_LOCATION_NAME=local
+    - INVENIO_FILES_LOCATION_URI=/var/tmp
+    - INVENIO_ROLE_SYSTEM=System Administrator
+    - INVENIO_ROLE_REPOSITORY=Repository Administrator
+    - INVENIO_ROLE_CONTRIBUTOR=Contributor
+    - INVENIO_ROLE_COMMUNITY=Community Administrator
+    - FLASK_DEBUG=1
+    - SEARCH_INDEX_PREFIX=tenant1
+  volumes_from:
+    - static
+  links:
+    - postgresql
+    - redis
+    - elasticsearch
+    - rabbitmq
+  ports:
+    - "5001:5000"
 
-  postgresql:
-    restart: "always"
-    image: postgres
-    environment:
-      - POSTGRES_USER=invenio
-      - POSTGRES_DB=invenio
-      - POSTGRES_PASSWORD=dbpass123
-    volumes:
-      - pgsql-data:/var/lib/postgresql/data
-    ports:
-      - "25419:5432"
+postgresql:
+  restart: "always"
+  image: postgres
+  environment:
+    - POSTGRES_USER=invenio
+    - POSTGRES_DB=invenio
+    - POSTGRES_PASSWORD=dbpass123
+  ports:
+    - "25401:5432"
 
-  redis:
-    restart: "always"
-    image: redis
-    ports:
-      - "26319:6379"
+redis:
+  restart: "always"
+  image: redis
+  ports:
+    - "26301:6379"
 
-  elasticsearch:
-    restart: "always"
-    build:
-      context: .
-      dockerfile: ./elasticsearch/Dockerfile
-    volumes:
-      - es-data:/usr/share/elasticsearch/data
-    environment:
-      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
-    ports:
-      - "29219:9200"
-      - "29319:9300"
+elasticsearch:
+  restart: "always"
+  build: .
+  dockerfile: ./elasticsearch/Dockerfile
+  environment:
+    - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
+  ports:
+    - "29201:9200"
+    - "29301:9300"
 
-  rabbitmq:
-    restart: "always"
-    image: rabbitmq
-    ports:
-      - "24319:4369"
-      - "45619:25672"
+rabbitmq:
+  restart: "always"
+  image: rabbitmq
+  ports:
+    - "24301:4369"
+    - "45601:25672"
 
-  nginx:
-    restart: "always"
-    build: ./nginx
-    ports:
-      - "80:80"
-      - "443:443"
-    volumes:
-      - static_data:/home/invenio/.virtualenvs/invenio/var/instance/static
-    links:
-      - web
+nginx:
+  restart: "always"
+  build: ./nginx
+  ports:
+    - "8001:80"
+    - "4401:443"
+  volumes_from:
+    - static
+  links:
+    - web
 
-  flower:
-    restart: "always"
-    image: mher/flower
-    command: --broker=amqp://guest:guest@rabbitmq:5672// --broker_api=http://guest:guest@rabbitmq:5671/api/
-    ports:
-      - "5519:5555"
-    links:
-      - rabbitmq
+static:
+  restart: "no"
+  build: .
+  volumes:
+    - /home/invenio/.virtualenvs/invenio/var/instance/static
+    - /code/modules/invenio-oaiserver/invenio_oaiserver.egg-info
+    - /code/modules/weko-theme/weko_theme.egg-info
+    - /code/modules/weko-itemtypes-ui/weko_itemtypes_ui.egg-info
+    - /code/modules/weko-items-ui/weko_items_ui.egg-info
+    - /code/modules/weko-accounts/weko_accounts.egg-info
+    - /code/modules/weko-admin/weko_admin.egg-info
+    - /code/modules/weko-logging/weko_logging.egg-info
+    - /code/modules/weko-gridlayout/weko_gridlayout.egg-info
+    - /code/modules/weko-groups/weko_groups.egg-info
+    - /code/modules/weko-search-ui/weko_search_ui.egg-info
+    - /code/modules/weko-records/weko_records.egg-info
+    - /code/modules/weko-records-ui/weko_records_ui.egg-info
+    - /code/modules/weko-schema-ui/weko_schema_ui.egg-info
+    - /code/modules/weko-index-tree/weko_index_tree.egg-info
+    - /code/modules/weko-user-profiles/weko_user_profiles.egg-info
+    - /code/modules/weko-deposit/weko_deposit.egg-info
+    - /code/modules/weko-authors/weko_authors.egg-info
+    - /code/modules/weko-handle/weko_handle.egg-info
+    - /code/modules/weko-workflow/weko_workflow.egg-info
+    - /code/modules/weko-indextree-journal/weko_indextree_journal.egg-info
+    - /code/modules/weko-bulkupdate/weko_bulkupdate.egg-info
+    - /code/modules/weko-items-autofill/weko_items_autofill.egg-info
+    - /code/modules/weko-sitemap/weko_sitemap.egg-info
+    - .:/code
+  user: invenio
 
-  kibana:
-    build:
-      context: .
-      dockerfile: ./kibana/Dockerfile
-    restart: "always"
-    command: kibana
-    ports:
-      - "5619:5601"
-    environment:
-      - "ELASTICSEARCH_URL=http://elasticsearch:9200"
-      - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
-    links:
-      - elasticsearch
-
-volumes:
-  weko3_data:
-  static_data:
-  pgsql-data:
-  es-data:
+# Monitoring
+flower:
+  restart: "always"
+  image: mher/flower
+  command: --broker=amqp://guest:guest@rabbitmq:5672// --broker_api=http://guest:guest@rabbitmq:5671/api/
+  ports:
+    - "5501:5555"
+  links:
+    - rabbitmq
 
+kibana:
+  build: .
+  dockerfile: ./kibana/Dockerfile
+  restart: "always"
+  command: kibana
+  ports:
+    - "5601:5601"
+  environment:
+    - "ELASTICSEARCH_URL=http://elasticsearch:9200"
+    - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
+  links:
+    - elasticsearch
diff --git a/modules/weko-admin/weko_admin/admin.py b/modules/weko-admin/weko_admin/admin.py
index 37e6fab..81e323f 100644
--- a/modules/weko-admin/weko_admin/admin.py
+++ b/modules/weko-admin/weko_admin/admin.py
@@ -90,6 +90,38 @@ class StyleSettingView(BaseView):
                     if '$panel-default-border:' in line:
                         panel_default_border = line[line.find('#'):-1]
 
+            from weko_theme.views import blueprint as theme_bp
+
+            # Header
+            f_path_header_wysiwyg = os.path.join(
+                theme_bp.root_path,
+                theme_bp.template_folder,
+                current_app.config['THEME_HEADER_WYSIWYG_TEMPLATE'])
+            header_array_wysiwyg = self.get_contents(f_path_header_wysiwyg)
+
+            f_path_header_editor = os.path.join(
+                theme_bp.root_path,
+                theme_bp.template_folder,
+                current_app.config['THEME_HEADER_EDITOR_TEMPLATE'])
+
+            if self.cmp_files(f_path_header_wysiwyg, f_path_header_editor):
+                header_array_wysiwyg = wysiwyg_editor_default
+
+            # Footer
+            f_path_footer_wysiwyg = os.path.join(
+                theme_bp.root_path,
+                theme_bp.template_folder,
+                current_app.config['THEME_FOOTER_WYSIWYG_TEMPLATE'])
+            footer_array_wysiwyg = self.get_contents(f_path_footer_wysiwyg)
+
+            f_path_footer_editor = os.path.join(
+                theme_bp.root_path,
+                theme_bp.template_folder,
+                current_app.config['THEME_FOOTER_EDITOR_TEMPLATE'])
+
+            if self.cmp_files(f_path_footer_wysiwyg, f_path_footer_editor):
+                footer_array_wysiwyg = wysiwyg_editor_default
+
             # Color
             if request.method == 'POST':
                 if not admin_permission_factory('update-style-action').can():
@@ -97,7 +129,14 @@ class StyleSettingView(BaseView):
                     flash(_('deny access'))
                 else:
                     form_lines = []
-                    body_bg = request.form.get('body-bg', body_bg)
+                    body_bg = request.form.get('body-bg', '#fff')
+                    panel_bg = request.form.get('panel-bg', '#fff')
+                    footer_default_bg = request.form.get(
+                        'footer-default-bg', 'rgba(13,95,137,0.8)')
+                    navbar_default_bg = request.form.get(
+                        'navbar-default-bg', '#f8f8f8')
+                    panel_default_border = request.form.get(
+                        'panel-default-border', '#ddd')
                     form_lines.append(
                         '$body-bg: ' + body_bg + ';')
                     form_lines.append(
@@ -119,6 +158,12 @@ class StyleSettingView(BaseView):
         return self.render(
             current_app.config["WEKO_ADMIN_BlOCK_STYLE_TEMPLATE"],
             body_bg=body_bg,
+            panel_bg=panel_bg,
+            footer_default_bg=footer_default_bg,
+            navbar_default_bg=navbar_default_bg,
+            panel_default_border=panel_default_border,
+            header_innerHtml=''.join(header_array_wysiwyg),
+            footer_innerHtml=''.join(footer_array_wysiwyg)
         )
 
     @expose('/upload_editor', methods=['POST'])
diff --git a/modules/weko-admin/weko_admin/templates/weko_admin/admin/block_style.html b/modules/weko-admin/weko_admin/templates/weko_admin/admin/block_style.html
index d384927..b4d8613 100644
--- a/modules/weko-admin/weko_admin/templates/weko_admin/admin/block_style.html
+++ b/modules/weko-admin/weko_admin/templates/weko_admin/admin/block_style.html
@@ -97,12 +97,160 @@
                           <label for="body-bg">{{_('Background1')}}</label>
                           <input type="color" class="form-control" id="body-bg" name="body-bg" value={{ body_bg }}>
                         </div>
+                        <div class="form-group col-sm-2">
+                          <label for="panel-bg">{{_('Background2')}}</label>
+                          <input type="color" class="form-control" id="panel-bg" name="panel-bg" value={{ panel_bg }}>
+                        </div>
+                        <div class="form-group col-sm-2">
+                          <label for="panel-default-border">{{_('Frame Border')}}</label>
+                          <input type="color" class="form-control" id="panel-default-border" name="panel-default-border" value={{ panel_default_border }}>
+                        </div>
+                        <div class="form-group col-sm-2">
+                          <label for="navbar-default-bg">{{_('Header')}}</label>
+                          <input type="color" class="form-control" id="navbar-default-bg" name="navbar-default-bg" value={{ navbar_default_bg }}>
+                        </div>
+                        <div class="form-group col-sm-2">
+                          <label for="footer-default-bg">{{_('Footer')}}</label>
+                          <input type="color" class="form-control" id="footer-default-bg" name="footer-default-bg" value={{ footer_default_bg }}>
+                        </div>
                       </div>
                     </div>
                   </div>
                 </form>
               </div>
             </div>
+            <div class="row">
+              <div class="col-sm-10">
+                <div class="panel panel-info">
+                  <div class="panel-heading">
+                    <div class="pull-right">
+                      <button type="button" id="btn_commit_header" class="btn btn-primary">
+                          <span class="glyphicon glyphicon-save"></span>&nbsp
+                        {{_('Save')}}
+                      </button>
+                    </div>
+                    <div class="panel-title">
+                      <h4>{{_('Header Setting')}}</h4>
+                    </div>
+                  </div>
+                  <div class="panel-body">
+                    <div id="toolbar-container-header">
+                      <span class="ql-formats">
+                        <select class="ql-font"></select>
+                        <select class="ql-size"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-bold"></button>
+                        <button class="ql-italic"></button>
+                        <button class="ql-underline"></button>
+                        <button class="ql-strike"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <select class="ql-color"></select>
+                        <select class="ql-background"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-script" value="sub"></button>
+                        <button class="ql-script" value="super"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-header" value="1"></button>
+                        <button class="ql-header" value="2"></button>
+                        <button class="ql-blockquote"></button>
+                        <button class="ql-code-block"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-list" value="ordered"></button>
+                        <button class="ql-list" value="bullet"></button>
+                        <button class="ql-indent" value="-1"></button>
+                        <button class="ql-indent" value="+1"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-direction" value="rtl"></button>
+                        <select class="ql-align"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-link"></button>
+                        <button class="ql-image"></button>
+                        <button class="ql-video"></button>
+                        <button class="ql-formula"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-clean"></button>
+                      </span>
+                    </div>
+                    <div id="editor-container-header" class="wysiwyg-editor"></div>
+                    <div id="header-editor-content" class="header-editor-content" hidden>{{ header_innerHtml|safe }}</div>
+                  </div>
+                </div>
+              </div>
+            </div>
+            <div class="row">
+              <div class="col-sm-10">
+                <div class="panel panel-info">
+                  <div class="panel-heading">
+                    <div class="pull-right">
+                      <button type="button" id="btn_commit_footer" class="btn btn-primary">
+                          <span class="glyphicon glyphicon-save"></span>&nbsp
+                        {{_('Save')}}
+                      </button>
+                    </div>
+                    <div class="panel-title">
+                      <h4>{{_('Footer Setting')}}</h4>
+                    </div>
+                  </div>
+                  <div class="panel-body">
+                    <div id="toolbar-container-footer">
+                      <span class="ql-formats">
+                        <select class="ql-font"></select>
+                        <select class="ql-size"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-bold"></button>
+                        <button class="ql-italic"></button>
+                        <button class="ql-underline"></button>
+                        <button class="ql-strike"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <select class="ql-color"></select>
+                        <select class="ql-background"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-script" value="sub"></button>
+                        <button class="ql-script" value="super"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-header" value="1"></button>
+                        <button class="ql-header" value="2"></button>
+                        <button class="ql-blockquote"></button>
+                        <button class="ql-code-block"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-list" value="ordered"></button>
+                        <button class="ql-list" value="bullet"></button>
+                        <button class="ql-indent" value="-1"></button>
+                        <button class="ql-indent" value="+1"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-direction" value="rtl"></button>
+                        <select class="ql-align"></select>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-link"></button>
+                        <button class="ql-image"></button>
+                        <button class="ql-video"></button>
+                        <button class="ql-formula"></button>
+                      </span>
+                      <span class="ql-formats">
+                        <button class="ql-clean"></button>
+                      </span>
+                    </div>
+                    <div id="editor-container-footer" class="wysiwyg-editor"></div>
+                    <div id="footer-editor-content" class="footer-editor-content" hidden>{{ footer_innerHtml|safe }}</div>
+                  </div>
+                </div>
+              </div>
+            </div>
           </div>
         </div>
       </div>
diff --git a/modules/weko-schema-ui/weko_schema_ui/mappings/v6/weko/item-v1.0.0.json b/modules/weko-schema-ui/weko_schema_ui/mappings/v6/weko/item-v1.0.0.json
index 6367450..34fe203 100644
--- a/modules/weko-schema-ui/weko_schema_ui/mappings/v6/weko/item-v1.0.0.json
+++ b/modules/weko-schema-ui/weko_schema_ui/mappings/v6/weko/item-v1.0.0.json
@@ -90,7 +90,6 @@
         },
         "itemtype": {
           "type": "text",
-          "fielddata": true,
           "copy_to": [
             "search_other"
           ]
@@ -127,12 +126,10 @@
           "type": "object",
           "properties": {
           "index_id": {
-            "type": "text",
-            "fielddata": true
+            "type": "text"
           },
           "sort": {
-            "type": "text",
-            "fielddata": true
+            "type": "text"
            }
           }
         },
diff --git a/modules/weko-search-ui/weko_search_ui/api.py b/modules/weko-search-ui/weko_search_ui/api.py
index b316690..74dd46f 100644
--- a/modules/weko-search-ui/weko_search_ui/api.py
+++ b/modules/weko-search-ui/weko_search_ui/api.py
@@ -102,8 +102,7 @@ class SearchSetting(object):
                     "order": "asc"
                 }
             }
-            default_sort = {'_created': {'order': 'desc',
-                                         'unmapped_type': 'long'}}
+            default_sort = {'_created': {'order': 'desc'}}
         else:
             factor_obj = Indexes.get_item_sort(index_id)
             script_str = {
@@ -118,21 +117,10 @@ class SearchSetting(object):
                     "order": "desc"
                 }
             }
-            default_sort = {'_created': {'order': 'asc',
-                                         'unmapped_type': 'long'}}
+            default_sort = {'_created': {'order': 'asc'}}
 
         return script_str, default_sort
 
-    @classmethod
-    def get_nested_sorting(cls, key_str):
-        """Get nested sorting object."""
-        nested_sorting = None
-        sort_option = current_app.config['RECORDS_REST_SORT_OPTIONS'].get(
-            current_app.config['SEARCH_UI_SEARCH_INDEX']).get(key_str)
-        if sort_option:
-            nested_sorting = sort_option.get('nested')
-        return nested_sorting
-
 
 def get_search_detail_keyword(str):
     """Get search detail keyword."""
diff --git a/modules/weko-search-ui/weko_search_ui/config.py b/modules/weko-search-ui/weko_search_ui/config.py
index 26d2986..bf3969d 100644
--- a/modules/weko-search-ui/weko_search_ui/config.py
+++ b/modules/weko-search-ui/weko_search_ui/config.py
@@ -162,23 +162,15 @@ RECORDS_REST_SORT_OPTIONS[SEARCH_UI_SEARCH_INDEX] = dict(
     ),
     pyear=dict(
         title='Date of Issued',
-        fields=['date.value'],  # dateofissued
+        fields=['dateofissued'],
         default_order='asc',
         order=7,
-        nested=dict(
-            path='date',
-            filter=dict(
-                term={
-                    'date.dateType': 'Issued'
-                }
-            )
-        )
     ),
     publish_date=dict(
         title='Publish date',
-        fields=['publish_date'],  # date.value
+        fields=['date.value'],
         default_order='asc',
-        order=8
+        order=8,
     ),
     # add 20181121 start
     custom_sort=dict(
diff --git a/modules/weko-search-ui/weko_search_ui/query.py b/modules/weko-search-ui/weko_search_ui/query.py
index 62e4c39..0b8baca 100644
--- a/modules/weko-search-ui/weko_search_ui/query.py
+++ b/modules/weko-search-ui/weko_search_ui/query.py
@@ -486,14 +486,11 @@ def default_search_factory(self, search, query_parser=None, search_type=None):
             current_app.config['WEKO_SEARCH_TYPE_KEYWORD'])
         sort_obj = dict()
         key_fileds = SearchSetting.get_sort_key(sort_key)
-        nested_sorting = SearchSetting.get_nested_sorting(sort_key)
         if sort == 'desc':
-            sort_obj[key_fileds] = dict(order='desc', unmapped_type='long')
+            sort_obj[key_fileds] = dict(order='desc')
             sort_key = '-' + sort_key
         else:
-            sort_obj[key_fileds] = dict(order='asc', unmapped_type='long')
-        if nested_sorting:
-            sort_obj[key_fileds].update({'nested': nested_sorting})
+            sort_obj[key_fileds] = dict(order='asc')
         search._sort.append(sort_obj)
         urlkwargs.add('sort', sort_key)
 
@@ -759,10 +756,10 @@ def item_path_search_factory(self, search, index_id=None):
         key_fileds = SearchSetting.get_sort_key(sort_key)
         if 'custom_sort' not in sort_key:
             if sort == 'desc':
-                sort_obj[key_fileds] = dict(order='desc', unmapped_type='long')
+                sort_obj[key_fileds] = dict(order='desc')
                 sort_key = '-' + sort_key
             else:
-                sort_obj[key_fileds] = dict(order='asc', unmapped_type='long')
+                sort_obj[key_fileds] = dict(order='asc')
             search._sort.append(sort_obj)
         else:
             if sort == 'desc':
diff --git a/modules/weko-search-ui/weko_search_ui/static/js/weko_search_ui/app.js b/modules/weko-search-ui/weko_search_ui/static/js/weko_search_ui/app.js
index f78a78f..13a2eac 100644
--- a/modules/weko-search-ui/weko_search_ui/static/js/weko_search_ui/app.js
+++ b/modules/weko-search-ui/weko_search_ui/static/js/weko_search_ui/app.js
@@ -170,9 +170,6 @@ function searchResCtrl($scope, $rootScope, $http, $location) {
   }
 
   $scope.getJournalInfo= function(){
-    if (!$rootScope.index_id_q) {
-      return;
-    }
     // request api
     $http({
       method: 'GET',
diff --git a/packages-invenio.txt b/packages-invenio.txt
index 74faa2e..65255d5 100644
--- a/packages-invenio.txt
+++ b/packages-invenio.txt
@@ -1,30 +1,30 @@
-invenio-access>=1.1.0
-invenio-accounts>=1.1.0
+invenio-access==1.0.0b1
+invenio-accounts==1.0.2
 invenio-admin==1.0.0b4
 invenio-app==1.0.0b1
-invenio-assets>=1.1.2
+invenio-assets==1.0.0b7
 invenio-base==1.0.2
 invenio-cache==1.0.0
 invenio-celery==1.0.0b3
 invenio-config==1.0.0b3
 invenio-db==1.0.0b9
-invenio-formatter==1.0.2
+invenio-formatter==1.0.0b3
 invenio-i18n==1.0.0
-invenio-indexer>=1.0.2
+invenio-indexer==1.0.2
 invenio-jsonschemas==1.0.0
 invenio-logging==1.0.0b3
 invenio-marc21==1.0.0a8
 invenio-oauth2server==1.0.0b2
 invenio-oauthclient==1.0.0b3
 invenio-pidrelations==1.0.0a4
-invenio-pidstore>=1.0.0
+invenio-pidstore==1.0.0
 invenio-query-parser==0.6.0
 invenio-queues==1.0.0a1
-invenio-records>=1.2.0
-invenio-records-files>=1.0.0b1
-invenio-records-ui>=1.0.1
-invenio-rest>=1.0.0
-invenio-search>=1.1.0
+invenio-records==1.0.0
+invenio-records-files==1.0.0a10
+invenio-records-ui==1.0.0
+invenio-rest==1.0.0
+invenio-search==1.1.0
 invenio-search-ui==1.0.0a9
 invenio-theme==1.0.0b4
 invenio-csl-rest==1.0.0a1
diff --git a/packages.txt b/packages.txt
index 89b1d1f..1c53064 100644
--- a/packages.txt
+++ b/packages.txt
@@ -7,7 +7,7 @@ Babel==2.5.1
 bagit==1.7.0
 billiard==3.5.0.3
 binaryornot==0.4.4
-bleach==3.1.0
+bleach==2.1.3
 blinker==1.4
 cchardet==2.1.1
 celery==4.1.0
@@ -127,7 +127,7 @@ validators==0.12.0
 vine==1.1.4
 wcwidth==0.1.7
 marshmallow==2.20.1
-webargs==5.5.0
+webargs==1.8.1
 webassets==0.12.1
 webencodings==0.5.1
 Werkzeug==0.15.2
@@ -154,4 +154,3 @@ xmltodict==0.12.0
 ftfy==4.4.3
 attrs==17.4.0
 b2handle==1.1.1
-flask-webpackext==1.0.0
diff --git a/requirements-weko-modules.txt b/requirements-weko-modules.txt
index c80c718..ad96989 100644
--- a/requirements-weko-modules.txt
+++ b/requirements-weko-modules.txt
@@ -1,12 +1,12 @@
--e git+https://github.com/RCOSDP/invenio-files-rest.git@feature/weko-upgrade-version#egg=invenio-files-rest
+-e git+https://github.com/RCOSDP/invenio-files-rest.git@feature/weko#egg=invenio-files-rest
 -e git+https://github.com/RCOSDP/invenio-s3.git@feature/weko#egg=invenio-s3
 -e /code/modules/invenio-oaiserver
 -e git+https://github.com/RCOSDP/invenio-oaiharvester.git@feature/weko#egg=invenio-oaiharvester
--e git+https://github.com/RCOSDP/invenio-records.git@feature/weko-upgrade-version#egg=invenio-records
--e git+https://github.com/RCOSDP/invenio-previewer.git@feature/weko-upgrade-version#egg=invenio-previewer
+-e git+https://github.com/RCOSDP/invenio-records.git@feature/weko#egg=invenio-records
+-e git+https://github.com/RCOSDP/invenio-previewer.git@feature/weko#egg=invenio-previewer
 -e git+https://github.com/RCOSDP/invenio-stats.git@feature/weko#egg=invenio-stats
 -e git+https://github.com/RCOSDP/invenio-records-rest.git@feature/weko#egg=invenio-records-rest
--e git+https://github.com/RCOSDP/invenio-communities.git@feature/weko-upgrade-version#egg=invenio-communities
+-e git+https://github.com/RCOSDP/invenio-communities.git@feature/weko#egg=invenio-communities
 -e git+https://github.com/RCOSDP/invenio-mail.git@feature/weko#egg=invenio-mail
 -e git+https://github.com/RCOSDP/invenio-deposit.git@feature/weko#egg=invenio-deposit
 -e /code/modules/weko-theme
diff --git a/scripts/populate-instance.sh b/scripts/populate-instance.sh
index 9e27b2c..5a1f109 100755
--- a/scripts/populate-instance.sh
+++ b/scripts/populate-instance.sh
@@ -103,7 +103,6 @@ ${INVENIO_WEB_INSTANCE} db create -v
 # sphinxdoc-create-database-end
 
 # sphinxdoc-index-initialisation-begin
-#${INVENIO_WEB_INSTANCE} index destroy --yes-i-know
 ${INVENIO_WEB_INSTANCE} index init
 sleep 20
 ${INVENIO_WEB_INSTANCE} index queue init
diff --git a/src/dojson b/src/dojson
deleted file mode 160000
index 3e0dbbd..0000000
--- a/src/dojson
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 3e0dbbdd92f52d28140379d7b74211151711b832
diff --git a/src/invenio-access b/src/invenio-access
deleted file mode 160000
index 89f8b10..0000000
--- a/src/invenio-access
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 89f8b103c2db0d3ea1d5802cac6471d8f46fba79
diff --git a/src/invenio-accounts b/src/invenio-accounts
deleted file mode 160000
index 1ab96fa..0000000
--- a/src/invenio-accounts
+++ /dev/null
@@ -1 +0,0 @@
-Subproject commit 1ab96fa5e0b1f45e0b1d3025586b47536b988e20
