============================= test session starts ==============================
platform linux -- Python 3.6.15, pytest-6.1.2, py-1.11.0, pluggy-0.13.1 -- /code/modules/weko-workflow/.tox/c1/bin/python
cachedir: .pytest_cache
rootdir: /code/modules/weko-workflow
plugins: celery-4.4.7, mock-3.6.1, cov-4.0.0
collecting ... collected 1 item

tests/test_views.py::test_lock_activity tt1
/workflow/activity/lock/A-00000003-00000
6
1
2
8
10
13
tt2
6
1
2
8
9
13
tt3
6
1
2
8
9
13
tt4
6
1
2
8
10
13
tt5
5
tt6
6
7
tt7
6
1
2
8
10
12
tt8
6
4
8
10
13
tt9
6
1
3
8
10
13
tt10
6
11
13
PASSED

=============================== warnings summary ===============================
../invenio-indexer/invenio_indexer/cli.py:108
  /code/modules/invenio-indexer/invenio_indexer/cli.py:108: DeprecationWarning: 'resultcallback' has been renamed to 'result_callback'. The old name will be removed in Click 8.1.
    @queue.resultcallback()

.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3
  /code/modules/weko-workflow/.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3: DeprecationWarning: 'werkzeug.contrib.cache' is deprecated as of version 0.15 and will be removed in version 1.0. It has moved to https://github.com/pallets/cachelib.
    from werkzeug.contrib.cache import NullCache, SimpleCache, FileSystemCache

.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35
  /code/modules/weko-workflow/.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
    import imp

tests/test_views.py: 26 warnings
  /code/modules/weko-workflow/.tox/c1/lib/python3.6/site-packages/invenio_admin/ext.py:73: PendingDeprecationWarning: Usage of model and modelview kwargs are deprecated in favor of view_class, args and kwargs.
    PendingDeprecationWarning

tests/test_views.py::test_lock_activity
  /code/modules/weko-workflow/.tox/c1/lib/python3.6/site-packages/flask_admin/model/base.py:1416: UserWarning: Fields missing from ruleset: created_userId,created_date,updated_userId,updated_date
    warnings.warn(text)

tests/test_views.py::test_lock_activity
  /code/modules/invenio-oaiserver/invenio_oaiserver/ext.py:138: UserWarning: Please specify the OAISERVER_ID_PREFIX configuration.default value is: oai:63ee5d1d2822:recid/
    app.config.get('OAISERVER_ID_PREFIX')))

tests/test_views.py::test_lock_activity
  /code/modules/weko-workflow/.tox/c1/lib/python3.6/site-packages/sqlalchemy/orm/session.py:2455: SAWarning: Usage of the 'Session.add()' operation is not currently supported within the execution stage of the flush process. Results may not be consistent.  Consider using alternative event listeners or connection-level operations instead.
    "event listeners or connection-level operations instead." % method

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform linux, python 3.6.15-final-0 -----------
Name                                  Stmts   Miss Branch BrPart  Cover
-----------------------------------------------------------------------
weko_workflow/__init__.py                 4      0      0      0   100%
weko_workflow/admin.py                  223    177     72      0    17%
weko_workflow/api.py                   1215   1078    414      0     9%
weko_workflow/bundles.py                 14      0      0      0   100%
weko_workflow/cli.py                    109    109     42      0     0%
weko_workflow/config.py                  90      0      0      0   100%
weko_workflow/errors.py                  18      0     10      0   100%
weko_workflow/ext.py                     21      0     10      2    94%
weko_workflow/models.py                 310     48     76      7    82%
weko_workflow/romeo.py                   22     14      0      0    36%
weko_workflow/schema/marshmallow.py      87      0     56      0   100%
weko_workflow/schema/utils.py            22     16     14      1    19%
weko_workflow/scopes.py                   6      0      0      0   100%
weko_workflow/sessions.py                13      6      4      0    41%
weko_workflow/tasks.py                    7      7      0      0     0%
weko_workflow/utils.py                 1855   1667    812      1     7%
weko_workflow/version.py                  2      0      0      0   100%
weko_workflow/views.py                 1293   1096    456      1    12%
-----------------------------------------------------------------------
TOTAL                                  5311   4218   1966     12    17%

======================= 1 passed, 32 warnings in 22.31s ========================
