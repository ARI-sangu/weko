GLOB sdist-make: /code/modules/invenio-communities/setup.py
c1 create: /code/modules/invenio-communities/.tox/c1
c1 installdeps: pytest>=3, pytest-cov, -rrequirements.txt
c1 inst: /code/modules/invenio-communities/.tox/.tmp/package/1/invenio-communities-1.0.0a21.zip
c1 installed: alabaster==0.7.13,alembic==0.9.6,amqp==2.6.1,angular-gettext-babel==0.3,aniso8601==8.0.0,arrow==0.12.1,asn1crypto==0.23.0,attrs==17.4.0,b2handle==1.1.2,Babel==2.5.1,bagit==1.7.0,beautifulsoup4==4.9.3,bibtexparser==1.0.1,billiard==3.6.3.0,binaryornot==0.4.4,bleach==3.1.0,blinker==1.4,boto3==1.7.84,botocore==1.10.84,cachelib==0.1,cachetools==4.2.4,cchardet==2.1.1,celery==4.4.7,certifi==2017.11.5,cffi==1.11.2,chardet==3.0.4,citeproc-py==0.5.1,citeproc-py-styles==0.1.2,click==8.0.4,cookiecutter==1.6.0,counter-robots==2018.6,coverage==6.2,cryptography==2.1.4,datacite==1.0.1,DateTime==4.9,decorator==4.1.2,defusedxml==0.5.0,dictdiffer==0.7.0,dnspython==2.2.1,docutils==0.18.1,dojson==1.3.2,elasticsearch==6.1.1,elasticsearch-dsl==6.4.0,elementpath==1.0.6,email-validator==1.0.5,entrypoints==0.2.3,feedgen==0.7.0,Flask==1.0.4,Flask-Admin==1.5.3,Flask-Alembic==2.0.1,Flask-Assets==0.12,Flask-BabelEx==0.9.4,Flask-Breadcrumbs==0.5.0,Flask-Caching==1.3.3,Flask-CeleryExt==0.3.4,Flask-Collect==1.2.2,Flask-Cors==3.0.3,Flask-DebugToolbar==0.11.0,Flask-IIIF==0.6.1,Flask-KVSession==0.6.2,Flask-Limiter==1.1.0,Flask-Login==0.4.1,Flask-Mail==0.9.1,flask-marshmallow==0.14.0,Flask-Menu==0.6.0,Flask-OAuthlib==0.9.5,Flask-Plugins==1.6.1,Flask-Principal==0.4.0,Flask-RESTful==0.3.8,Flask-Security==3.0.0,flask-shell-ipython==0.4.1,Flask-Sitemap==0.1.0,Flask-SQLAlchemy==2.3.2,flask-talisman==0.4.1,Flask-WTF==0.14.3,-e git+https://github.com/RCOSDP/pyfpdf.git@f9b032148283d535cabc7789858081c80de36fef#egg=fpdf,frozendict==2.3.6,fs==0.5.4,ftfy==4.4.3,future==0.16.0,github3.py==1.1.0,html5lib==1.0.1,idna==2.6,iiif-prezi==0.3.0,imagesize==1.4.1,importlib-metadata==4.8.3,importlib-resources==5.4.0,infinity==1.4,iniconfig==1.1.1,intervals==0.8.0,invenio-access==1.1.0,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_accounts&subdirectory=modules/invenio-accounts,invenio-admin==1.1.2,invenio-app==1.1.0,invenio-assets==1.0.0,invenio-base==1.0.2,invenio-cache==1.0.0,invenio-celery==1.1.3,invenio-communities @ file:///code/modules/invenio-communities/.tox/.tmp/package/1/invenio-communities-1.0.0a21.zip,invenio-config==1.0.0,invenio-csl-rest==1.0.0a1,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_db&subdirectory=modules/invenio-db,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_deposit&subdirectory=modules/invenio-deposit,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_files_rest&subdirectory=modules/invenio-files-rest,invenio-formatter==1.0.0b3,invenio-i18n==1.0.0,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_iiif&subdirectory=modules/invenio-iiif,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_indexer&subdirectory=modules/invenio-indexer,invenio-jsonschemas==1.0.0,invenio-logging==1.0.0b3,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_mail&subdirectory=modules/invenio-mail,invenio-marc21==1.0.0a8,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_oaiharvester&subdirectory=modules/invenio-oaiharvester,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_oaiserver&subdirectory=modules/invenio-oaiserver,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_oauth2server&subdirectory=modules/invenio-oauth2server,invenio-oauthclient==1.0.0,invenio-pidrelations==1.0.0a4,invenio-pidstore==1.0.0,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_previewer&subdirectory=modules/invenio-previewer,invenio-query-parser==0.6.0,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_queues&subdirectory=modules/invenio-queues,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_records&subdirectory=modules/invenio-records,invenio-records-files==1.0.0a10,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_records_rest&subdirectory=modules/invenio-records-rest,invenio-records-ui==1.0.0,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_resourcesyncclient&subdirectory=modules/invenio-resourcesyncclient,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_resourcesyncserver&subdirectory=modules/invenio-resourcesyncserver,invenio-rest==1.1.2,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_s3&subdirectory=modules/invenio-s3,invenio-search==1.1.0,invenio-search-ui==1.0.0a9,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=invenio_stats&subdirectory=modules/invenio-stats,invenio-theme==1.0.0b4,ipaddress==1.0.19,ipython==6.2.1,ipython-genutils==0.2.0,itsdangerous==0.24,jedi==0.11.0,Jinja2==2.10,jinja2-cli==0.6.0,jinja2-time==0.2.0,jmespath==0.10.0,jsmin==2.2.2,jsonpatch==1.21,jsonpath-ng==1.5.2,jsonpointer==1.14,jsonref==0.1,jsonresolver==0.2.1,jsonschema==2.6.0,jupyter-client==5.2.2,jupyter-core==4.4.0,kombu==4.6.10,limits==1.2.1,lxml==4.1.1,Mako==1.0.7,MarkupSafe==1.1.1,marshmallow==2.20.1,marshmallow-sqlalchemy==0.23.1,maxminddb==1.5.2,maxminddb-geolite2==2017.803,mistune==0.8.3,mock==3.0.5,more-itertools==8.10.0,msgpack==0.6.2,nbconvert==5.3.1,nbformat==4.4.0,netaddr==0.8.0,node-semver==0.1.1,numpy==1.16.1,oauthlib==2.1.0,ordereddict==1.1,packaging==21.3,pandocfilters==1.4.2,parso==0.1.0,passlib==1.7.1,pexpect==4.3.0,pickleshare==0.7.4,Pillow==5.4.1,pluggy==0.13.1,ply==3.11,poyo==0.4.1,prompt-toolkit==1.0.15,psycopg2==2.7.3.2,ptyprocess==0.5.2,py==1.11.0,pycparser==2.18,Pygments==2.2.0,PyJWT==1.5.3,PyLD==2.0.3,pyparsing==3.0.9,-e git+https://github.com/RCOSDP/PyPDF2.git@fefc684a3a74aff6f99e5dff24f9b4dd1c95169d#egg=PyPDF2,pyPEG2==2.15.2,pytest==6.1.2,pytest-cov==4.0.0,pytest-mock==3.6.1,python-dateutil==2.6.1,python-editor==1.0.3,python-geoip==1.2,pytz==2017.3,pyzmq==17.0.0,redis==2.10.6,requests==2.18.4,requests-oauthlib==1.1.0,resync==1.0.9,s3fs==0.1.6,s3transfer==0.1.13,Sickle==0.6.4,simplegeneric==0.8.1,simplejson==3.12.0,simplekv==0.11.2,six==1.12.0,snowballstemmer==2.2.0,soupsieve==2.3.2.post1,speaklater==1.3,Sphinx==1.8.4,sphinxcontrib-serializinghtml==1.1.5,sphinxcontrib-websupport==1.2.4,SQLAlchemy==1.2.19,SQLAlchemy-Continuum==1.3.6,SQLAlchemy-Utils==0.35.0,testpath==0.3.1,toml==0.10.2,tomli==1.2.3,tornado==4.5.3,traitlets==4.3.2,typing_extensions==4.1.1,ua-parser==0.7.3,uritemplate==4.1.1,uritools==2.1.0,urllib3==1.22,validators==0.12.0,vine==1.3.0,Wand==0.6.1,wcwidth==0.1.7,webargs==5.5.2,webassets==0.12.1,webencodings==0.5.1,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_accounts&subdirectory=modules/weko-accounts,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_admin&subdirectory=modules/weko-admin,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_authors&subdirectory=modules/weko-authors,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_bulkupdate&subdirectory=modules/weko-bulkupdate,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_deposit&subdirectory=modules/weko-deposit,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_gridlayout&subdirectory=modules/weko-gridlayout,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_groups&subdirectory=modules/weko-groups,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_handle&subdirectory=modules/weko-handle,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_index_tree&subdirectory=modules/weko-index-tree,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_indextree_journal&subdirectory=modules/weko-indextree-journal,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_items_autofill&subdirectory=modules/weko-items-autofill,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_items_ui&subdirectory=modules/weko-items-ui,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_itemtypes_ui&subdirectory=modules/weko-itemtypes-ui,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_logging&subdirectory=modules/weko-logging,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_records&subdirectory=modules/weko-records,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_records_ui&subdirectory=modules/weko-records-ui,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_redis&subdirectory=modules/weko-redis,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_schema_ui&subdirectory=modules/weko-schema-ui,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_search_ui&subdirectory=modules/weko-search-ui,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_sitemap&subdirectory=modules/weko-sitemap,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_theme&subdirectory=modules/weko-theme,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_user_profiles&subdirectory=modules/weko-user-profiles,-e git+https://github.com/ivis-miyachi/weko.git@a7d8cdedce90fba7ca033b903fa7bd65c0faf492#egg=weko_workflow&subdirectory=modules/weko-workflow,Werkzeug==0.15.2,whichcraft==0.4.1,WTForms==2.1,WTForms-Alchemy==0.16.5,WTForms-Components==0.10.3,xmlschema==0.9.30,xmltodict==0.12.0,zipp==3.6.0,zope.interface==5.5.2
c1 run-test-pre: PYTHONHASHSEED='1381784600'
c1 run-test: commands[0] | pytest --cov=invenio_communities tests -v -vv -s --cov-branch --cov-report=term --cov-report=html --basetemp=/code/modules/invenio-communities/.tox/c1/tmp
============================= test session starts ==============================
platform linux -- Python 3.6.15, pytest-6.1.2, py-1.11.0, pluggy-0.13.1 -- /code/modules/invenio-communities/.tox/c1/bin/python
cachedir: .tox/c1/.pytest_cache
rootdir: /code/modules/invenio-communities
plugins: celery-4.4.7, mock-3.6.1, cov-4.0.0
collecting ... collected 60 items

tests/test_admin.py::TestCommunityModelView::test_index_view_acl_guest PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[0-403] PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[1-200] 1
1
PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[2-200] 1
1
PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[3-200] 1
called role_query_cond
1
1
called role_query_cond
1
PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[4-403] PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[5-403] PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[6-200] 1
1
PASSED
tests/test_admin.py::TestCommunityModelView::test_index_view_acl[7-403] PASSED
tests/test_admin.py::TestCommunityModelView::test_get_query FAILED
tests/test_admin.py::TestCommunityModelView::test_get_count_query FAILED
tests/test_admin.py::TestCommunityModelView::test_edit_form SKIPPED
tests/test_admin.py::TestCommunityModelView::test__get_child_index_list FAILED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl_guest PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[0-403] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[1-200] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[2-200] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[3-200] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[4-403] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[5-403] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[6-200] PASSED
tests/test_admin.py::TestFeaturedCommunityModelView::test_index_view_acl[7-403] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl_guest PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[0-403] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[1-200] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[2-200] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[3-200] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[4-403] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[5-403] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[6-200] PASSED
tests/test_admin.py::TestInclusionRequestModelView::test_index_view_acl[7-403] PASSED
tests/test_invenio_communities.py::test_version PASSED
tests/test_invenio_communities.py::test_init PASSED
tests/test_invenio_communities.py::test_alembic SKIPPED
tests/test_invenio_communities.py::test_model_init PASSED
tests/test_invenio_communities.py::test_email_notification Content-Type: text/plain; charset="utf-8"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Subject: A record was requested to be added to your community (Title1).
From: info@inveniosoftware.org
To: test@test.org
Date: Wed, 22 Mar 2023 04:34:05 +0000
Message-ID: <167945964504.1063.4553359684812597115@63ee5d1d2822>

A new upload requests to be added to your community (Title1):


Requested by:  (test@test.org)

Record Title: Foobar
Record Description: Baz bar.

You can accept or reject this record in your community curation page:
https://inveniosoftware.org/communities/comm1/curate/
-------------------------------------------------------------------------------
FAILED
tests/test_invenio_communities.py::test_model_featured_community PASSED
tests/test_invenio_communities.py::test_oaipmh_sets PASSED
tests/test_invenio_communities.py::test_communities_rest_all_communities PASSED
tests/test_invenio_communities.py::test_community_delete PASSED
tests/test_invenio_communities.py::test_communities_rest_all_communities_query_and_sort PASSED
tests/test_invenio_communities.py::test_communities_rest_pagination PASSED
tests/test_invenio_communities.py::test_communities_rest_get_details FAILED
tests/test_invenio_communities.py::test_communities_rest_etag PASSED
tests/test_invenio_communities.py::test_add_remove_corner_cases PASSED
tests/test_models.py::test_filter_community[<lambda>0] PASSED
tests/test_models.py::test_filter_community[<lambda>1] PASSED
tests/test_models.py::test_filter_community[<lambda>2] PASSED
tests/test_tasks.py::test_community_delete_task PASSED
tests/test_tasks.py::test_delete_marked_communities PASSED
tests/test_tasks.py::test_delete_expired_requests PASSED
tests/test_utils.py::test_Pagination PASSED
tests/test_utils.py::test_template_formatting_from_string PASSED
tests/test_utils.py::test_save_and_validate_logo SKIPPED
tests/test_utils.py::test_initialize_communities_bucket PASSED
tests/test_utils.py::test_format_request_email_templ PASSED
tests/test_utils.py::test_send_community_request_email PASSED
tests/test_utils.py::test_get_user_role_ids 2
1
PASSED
tests/test_utils.py::test_email_formatting Content-Type: text/plain; charset="utf-8"
MIME-Version: 1.0
Content-Transfer-Encoding: 7bit
Subject: A record was requested to be added to your community (Title1).
From: info@inveniosoftware.org
To: test@test.org
Date: Wed, 22 Mar 2023 04:35:20 +0000
Message-ID: <167945972004.1063.2966409191540633687@63ee5d1d2822>

A new upload requests to be added to your community (Title1):


Requested by:  (test@test.org)

Record Title: Foobar and Bazbar
Record Description: On Foobar, Bazbar and more.

You can accept or reject this record in your community curation page:
https://inveniosoftware.org/communities/comm1/curate/
-------------------------------------------------------------------------------
FAILED
tests/test_views_api.py::TestCommunityDetailsResource::test_get Map([<Rule '/admin/authors/export/download/Creator_export_all' (GET, HEAD, OPTIONS) -> authors/export.download>,
 <Rule '/admin/items/bulk/update/items_metadata' (GET, HEAD, OPTIONS) -> items/bulk/update.get_items_metadata>,
 <Rule '/admin/items/bulk/delete/check' (GET, HEAD, OPTIONS) -> items/bulk/delete.check>,
 <Rule '/admin/persistentidentifier/ajax/lookup/' (GET, HEAD, OPTIONS) -> persistentidentifier.ajax_lookup>,
 <Rule '/admin/persistentidentifier/ajax/update/' (POST, OPTIONS) -> persistentidentifier.ajax_update>,
 <Rule '/admin/featuredcommunity/ajax/lookup/' (GET, HEAD, OPTIONS) -> featuredcommunity.ajax_lookup>,
 <Rule '/admin/featuredcommunity/ajax/update/' (POST, OPTIONS) -> featuredcommunity.ajax_update>,
 <Rule '/admin/actionsystemroles/ajax/lookup/' (GET, HEAD, OPTIONS) -> actionsystemroles.ajax_lookup>,
 <Rule '/admin/actionsystemroles/ajax/update/' (POST, OPTIONS) -> actionsystemroles.ajax_update>,
 <Rule '/admin/inclusionrequest/ajax/lookup/' (GET, HEAD, OPTIONS) -> inclusionrequest.ajax_lookup>,
 <Rule '/admin/inclusionrequest/ajax/update/' (POST, OPTIONS) -> inclusionrequest.ajax_update>,
 <Rule '/admin/multipartobject/ajax/lookup/' (GET, HEAD, OPTIONS) -> multipartobject.ajax_lookup>,
 <Rule '/admin/multipartobject/ajax/update/' (POST, OPTIONS) -> multipartobject.ajax_update>,
 <Rule '/admin/sessionactivity/ajax/lookup/' (GET, HEAD, OPTIONS) -> sessionactivity.ajax_lookup>,
 <Rule '/admin/sessionactivity/ajax/update/' (POST, OPTIONS) -> sessionactivity.ajax_update>,
 <Rule '/admin/harvestsettings/ajax/lookup/' (GET, HEAD, OPTIONS) -> harvestsettings.ajax_lookup>,
 <Rule '/admin/harvestsettings/ajax/update/' (POST, OPTIONS) -> harvestsettings.ajax_update>,
 <Rule '/admin/recordmetadata/ajax/lookup/' (GET, HEAD, OPTIONS) -> recordmetadata.ajax_lookup>,
 <Rule '/admin/recordmetadata/ajax/update/' (POST, OPTIONS) -> recordmetadata.ajax_update>,
 <Rule '/admin/remoteaccount/ajax/lookup/' (GET, HEAD, OPTIONS) -> remoteaccount.ajax_lookup>,
 <Rule '/admin/remoteaccount/ajax/update/' (POST, OPTIONS) -> remoteaccount.ajax_update>,
 <Rule '/admin/objectversion/ajax/lookup/' (GET, HEAD, OPTIONS) -> objectversion.ajax_lookup>,
 <Rule '/admin/objectversion/ajax/update/' (POST, OPTIONS) -> objectversion.ajax_update>,
 <Rule '/admin/useridentity/ajax/lookup/' (GET, HEAD, OPTIONS) -> useridentity.ajax_lookup>,
 <Rule '/admin/useridentity/ajax/update/' (POST, OPTIONS) -> useridentity.ajax_update>,
 <Rule '/admin/fileinstance/ajax/lookup/' (GET, HEAD, OPTIONS) -> fileinstance.ajax_lookup>,
 <Rule '/admin/fileinstance/ajax/update/' (POST, OPTIONS) -> fileinstance.ajax_update>,
 <Rule '/admin/facet-search/ajax/lookup/' (GET, HEAD, OPTIONS) -> facet-search.ajax_lookup>,
 <Rule '/admin/facet-search/ajax/update/' (POST, OPTIONS) -> facet-search.ajax_update>,
 <Rule '/admin/remotetoken/ajax/lookup/' (GET, HEAD, OPTIONS) -> remotetoken.ajax_lookup>,
 <Rule '/admin/remotetoken/ajax/update/' (POST, OPTIONS) -> remotetoken.ajax_update>,
 <Rule '/admin/actionroles/ajax/lookup/' (GET, HEAD, OPTIONS) -> actionroles.ajax_lookup>,
 <Rule '/admin/actionroles/ajax/update/' (POST, OPTIONS) -> actionroles.ajax_update>,
 <Rule '/admin/actionusers/ajax/lookup/' (GET, HEAD, OPTIONS) -> actionusers.ajax_lookup>,
 <Rule '/admin/actionusers/ajax/update/' (POST, OPTIONS) -> actionusers.ajax_update>,
 <Rule '/admin/userprofile/ajax/lookup/' (GET, HEAD, OPTIONS) -> userprofile.ajax_lookup>,
 <Rule '/admin/userprofile/ajax/update/' (POST, OPTIONS) -> userprofile.ajax_update>,
 <Rule '/admin/widgetitem/ajax/lookup/' (GET, HEAD, OPTIONS) -> widgetitem.ajax_lookup>,
 <Rule '/admin/widgetitem/ajax/update/' (POST, OPTIONS) -> widgetitem.ajax_update>,
 <Rule '/admin/identifier/ajax/lookup/' (GET, HEAD, OPTIONS) -> identifier.ajax_lookup>,
 <Rule '/admin/identifier/ajax/update/' (POST, OPTIONS) -> identifier.ajax_update>,
 <Rule '/admin/itemtypes/mapping/schema' (GET, HEAD, OPTIONS) -> itemtypesmapping.schema_list>,
 <Rule '/admin/community/ajax/lookup/' (GET, HEAD, OPTIONS) -> community.ajax_lookup>,
 <Rule '/admin/community/ajax/update/' (POST, OPTIONS) -> community.ajax_update>,
 <Rule '/admin/location/ajax/lookup/' (GET, HEAD, OPTIONS) -> location.ajax_lookup>,
 <Rule '/admin/location/ajax/update/' (POST, OPTIONS) -> location.ajax_update>,
 <Rule '/admin/identify/ajax/lookup/' (GET, HEAD, OPTIONS) -> identify.ajax_lookup>,
 <Rule '/admin/identify/ajax/update/' (POST, OPTIONS) -> identify.ajax_update>,
 <Rule '/admin/authors/import/check_import_status' (POST, OPTIONS) -> authors/import.check_import_status>,
 <Rule '/admin/authors/import/is_import_available' (GET, HEAD, OPTIONS) -> authors/import.is_import_available>,
 <Rule '/admin/authors/import/check_import_file' (POST, OPTIONS) -> authors/import.check_import_file>,
 <Rule '/admin/authors/export/check_status' (GET, HEAD, OPTIONS) -> authors/export.check_status>,
 <Rule '/admin/authors/export/cancel' (POST, OPTIONS) -> authors/export.cancel>,
 <Rule '/admin/authors/export/export' (POST, OPTIONS) -> authors/export.export>,
 <Rule '/admin/authors/import/import' (POST, OPTIONS) -> authors/import.import_authors>,
 <Rule '/admin/bucket/ajax/lookup/' (GET, HEAD, OPTIONS) -> bucket.ajax_lookup>,
 <Rule '/admin/bucket/ajax/update/' (POST, OPTIONS) -> bucket.ajax_update>,
 <Rule '/admin/client/ajax/lookup/' (GET, HEAD, OPTIONS) -> client.ajax_lookup>,
 <Rule '/admin/client/ajax/update/' (POST, OPTIONS) -> client.ajax_update>,
 <Rule '/admin/oaiset/ajax/lookup/' (GET, HEAD, OPTIONS) -> oaiset.ajax_lookup>,
 <Rule '/admin/oaiset/ajax/update/' (POST, OPTIONS) -> oaiset.ajax_update>,
 <Rule '/admin/items/bulk-export/check_export_status' (GET, HEAD, OPTIONS) -> items/bulk-export.check_export_status>,
 <Rule '/admin/items/bulk-export/cancel_export' (GET, HEAD, OPTIONS) -> items/bulk-export.cancel_export>,
 <Rule '/admin/items/bulk-export/export_all' (POST, OPTIONS) -> items/bulk-export.export_all>,
 <Rule '/admin/items/bulk-export/download' (GET, HEAD, OPTIONS) -> items/bulk-export.download>,
 <Rule '/admin/items/custom_sort/save' (POST, OPTIONS) -> items/custom_sort.save_sort>,
 <Rule '/admin/items/import/check_import_is_available' (GET, HEAD, OPTIONS) -> items/import.check_import_available>,
 <Rule '/admin/items/import/get_disclaimer_text' (GET, HEAD, OPTIONS) -> items/import.get_disclaimer_text>,
 <Rule '/admin/items/import/get_check_status' (POST, OPTIONS) -> items/import.get_check_status>,
 <Rule '/admin/items/import/export_template' (POST, OPTIONS) -> items/import.export_template>,
 <Rule '/admin/items/import/download_check' (POST, OPTIONS) -> items/import.download_check>,
 <Rule '/admin/items/import/export_import' (POST, OPTIONS) -> items/import.download_import>,
 <Rule '/admin/items/import/check_status' (POST, OPTIONS) -> items/import.get_status>,
 <Rule '/admin/items/import/import' (POST, OPTIONS) -> items/import.import_items>,
 <Rule '/admin/items/import/check' (POST, OPTIONS) -> items/import.check>,
 <Rule '/admin/token/ajax/lookup/' (GET, HEAD, OPTIONS) -> token.ajax_lookup>,
 <Rule '/admin/token/ajax/update/' (POST, OPTIONS) -> token.ajax_update>,
 <Rule '/admin/items/bulk/delete/' (GET, HEAD, OPTIONS, PUT) -> items/bulk/delete.index>,
 <Rule '/admin/items/bulk/update/' (GET, HEAD, OPTIONS) -> items/bulk/update.index>,
 <Rule '/admin/role/ajax/lookup/' (GET, HEAD, OPTIONS) -> role.ajax_lookup>,
 <Rule '/admin/role/ajax/update/' (POST, OPTIONS) -> role.ajax_update>,
 <Rule '/admin/user/ajax/lookup/' (GET, HEAD, OPTIONS) -> user.ajax_lookup>,
 <Rule '/admin/user/ajax/update/' (POST, OPTIONS) -> user.ajax_update>,
 <Rule '/account/settings/password/' (GET, POST, HEAD, OPTIONS) -> security.change_password>,
 <Rule '/admin/persistentidentifier/details/' (GET, HEAD, OPTIONS) -> persistentidentifier.details_view>,
 <Rule '/admin/persistentidentifier/action/' (POST, OPTIONS) -> persistentidentifier.action_view>,
 <Rule '/admin/persistentidentifier/delete/' (POST, OPTIONS) -> persistentidentifier.delete_view>,
 <Rule '/admin/persistentidentifier/edit/' (GET, POST, HEAD, OPTIONS) -> persistentidentifier.edit_view>,
 <Rule '/admin/persistentidentifier/new/' (GET, POST, HEAD, OPTIONS) -> persistentidentifier.create_view>,
 <Rule '/admin/featuredcommunity/details/' (GET, HEAD, OPTIONS) -> featuredcommunity.details_view>,
 <Rule '/admin/actionsystemroles/details/' (GET, HEAD, OPTIONS) -> actionsystemroles.details_view>,
 <Rule '/admin/featuredcommunity/action/' (POST, OPTIONS) -> featuredcommunity.action_view>,
 <Rule '/admin/featuredcommunity/delete/' (POST, OPTIONS) -> featuredcommunity.delete_view>,
 <Rule '/admin/actionsystemroles/action/' (POST, OPTIONS) -> actionsystemroles.action_view>,
 <Rule '/admin/actionsystemroles/delete/' (POST, OPTIONS) -> actionsystemroles.delete_view>,
 <Rule '/admin/featuredcommunity/edit/' (GET, POST, HEAD, OPTIONS) -> featuredcommunity.edit_view>,
 <Rule '/admin/actionsystemroles/edit/' (GET, POST, HEAD, OPTIONS) -> actionsystemroles.edit_view>,
 <Rule '/admin/featuredcommunity/new/' (GET, POST, HEAD, OPTIONS) -> featuredcommunity.create_view>,
 <Rule '/admin/actionsystemroles/new/' (GET, POST, HEAD, OPTIONS) -> actionsystemroles.create_view>,
 <Rule '/admin/inclusionrequest/details/' (GET, HEAD, OPTIONS) -> inclusionrequest.details_view>,
 <Rule '/admin/inclusionrequest/action/' (POST, OPTIONS) -> inclusionrequest.action_view>,
 <Rule '/admin/inclusionrequest/delete/' (POST, OPTIONS) -> inclusionrequest.delete_view>,
 <Rule '/admin/inclusionrequest/edit/' (GET, POST, HEAD, OPTIONS) -> inclusionrequest.edit_view>,
 <Rule '/admin/inclusionrequest/new/' (GET, POST, HEAD, OPTIONS) -> inclusionrequest.create_view>,
 <Rule '/admin/harvestsettings/get_logs/' (GET, HEAD, OPTIONS) -> harvestsettings.get_logs>,
 <Rule '/admin/multipartobject/details/' (GET, HEAD, OPTIONS) -> multipartobject.details_view>,
 <Rule '/admin/sessionactivity/details/' (GET, HEAD, OPTIONS) -> sessionactivity.details_view>,
 <Rule '/admin/harvestsettings/details/' (GET, HEAD, OPTIONS) -> harvestsettings.details_view>,
 <Rule '/admin/multipartobject/action/' (POST, OPTIONS) -> multipartobject.action_view>,
 <Rule '/admin/multipartobject/delete/' (POST, OPTIONS) -> multipartobject.delete_view>,
 <Rule '/admin/sessionactivity/action/' (POST, OPTIONS) -> sessionactivity.action_view>,
 <Rule '/admin/sessionactivity/delete/' (POST, OPTIONS) -> sessionactivity.delete_view>,
 <Rule '/admin/harvestsettings/action/' (POST, OPTIONS) -> harvestsettings.action_view>,
 <Rule '/admin/harvestsettings/delete/' (POST, OPTIONS) -> harvestsettings.delete_view>,
 <Rule '/admin/harvestsettings/clear/' (GET, HEAD, OPTIONS) -> harvestsettings.clear>,
 <Rule '/admin/harvestsettings/pause/' (GET, HEAD, OPTIONS) -> harvestsettings.pause>,
 <Rule '/admin/multipartobject/edit/' (GET, POST, HEAD, OPTIONS) -> multipartobject.edit_view>,
 <Rule '/admin/sessionactivity/edit/' (GET, POST, HEAD, OPTIONS) -> sessionactivity.edit_view>,
 <Rule '/admin/harvestsettings/edit/' (GET, POST, HEAD, OPTIONS) -> harvestsettings.edit_view>,
 <Rule '/admin/multipartobject/new/' (GET, POST, HEAD, OPTIONS) -> multipartobject.create_view>,
 <Rule '/admin/sessionactivity/new/' (GET, POST, HEAD, OPTIONS) -> sessionactivity.create_view>,
 <Rule '/admin/harvestsettings/new/' (GET, POST, HEAD, OPTIONS) -> harvestsettings.create_view>,
 <Rule '/admin/harvestsettings/run/' (GET, HEAD, OPTIONS) -> harvestsettings.run>,
 <Rule '/admin/recordmetadata/details/' (GET, HEAD, OPTIONS) -> recordmetadata.details_view>,
 <Rule '/admin/recordmetadata/action/' (POST, OPTIONS) -> recordmetadata.action_view>,
 <Rule '/admin/recordmetadata/delete/' (POST, OPTIONS) -> recordmetadata.delete_view>,
 <Rule '/admin/schemasettings/delete' (POST, OPTIONS) -> schemasettings.delete>,
 <Rule '/admin/recordmetadata/edit/' (GET, POST, HEAD, OPTIONS) -> recordmetadata.edit_view>,
 <Rule '/admin/recordmetadata/new/' (GET, POST, HEAD, OPTIONS) -> recordmetadata.create_view>,
 <Rule '/admin/schemasettings/add' (GET, HEAD, OPTIONS) -> schemasettings.add>,
 <Rule '/admin/resource_list/get_list' (GET, HEAD, OPTIONS) -> resource_list.get_list>,
 <Rule '/admin/remoteaccount/details/' (GET, HEAD, OPTIONS) -> remoteaccount.details_view>,
 <Rule '/admin/objectversion/details/' (GET, HEAD, OPTIONS) -> objectversion.details_view>,
 <Rule '/admin/remoteaccount/action/' (POST, OPTIONS) -> remoteaccount.action_view>,
 <Rule '/admin/remoteaccount/delete/' (POST, OPTIONS) -> remoteaccount.delete_view>,
 <Rule '/admin/objectversion/action/' (POST, OPTIONS) -> objectversion.action_view>,
 <Rule '/admin/objectversion/delete/' (POST, OPTIONS) -> objectversion.delete_view>,
 <Rule '/admin/resource_list/create' (POST, OPTIONS) -> resource_list.create>,
 <Rule '/admin/remoteaccount/edit/' (GET, POST, HEAD, OPTIONS) -> remoteaccount.edit_view>,
 <Rule '/admin/objectversion/edit/' (GET, POST, HEAD, OPTIONS) -> objectversion.edit_view>,
 <Rule '/admin/remoteaccount/new/' (GET, POST, HEAD, OPTIONS) -> remoteaccount.create_view>,
 <Rule '/admin/objectversion/new/' (GET, POST, HEAD, OPTIONS) -> objectversion.create_view>,
 <Rule '/admin/stylesetting/upload_editor' (POST, OPTIONS) -> stylesetting.upload_editor>,
 <Rule '/admin/indexjournal/jsonschema' (GET, HEAD, OPTIONS) -> indexjournal.get_json_schema>,
 <Rule '/admin/indexjournal/schemaform' (GET, HEAD, OPTIONS) -> indexjournal.get_schema_form>,
 <Rule '/admin/useridentity/details/' (GET, HEAD, OPTIONS) -> useridentity.details_view>,
 <Rule '/admin/fileinstance/details/' (GET, HEAD, OPTIONS) -> fileinstance.details_view>,
 <Rule '/admin/useridentity/action/' (POST, OPTIONS) -> useridentity.action_view>,
 <Rule '/admin/useridentity/delete/' (POST, OPTIONS) -> useridentity.delete_view>,
 <Rule '/admin/fileinstance/action/' (POST, OPTIONS) -> fileinstance.action_view>,
 <Rule '/admin/fileinstance/delete/' (POST, OPTIONS) -> fileinstance.delete_view>,
 <Rule '/admin/facet-search/action/' (POST, OPTIONS) -> facet-search.action_view>,
 <Rule '/admin/facet-search/delete/' (GET, POST, HEAD, OPTIONS) -> facet-search.delete>,
 <Rule '/admin/facet-search/delete/' (POST, OPTIONS) -> facet-search.delete_view>,
 <Rule '/admin/useridentity/edit/' (GET, POST, HEAD, OPTIONS) -> useridentity.edit_view>,
 <Rule '/admin/fileinstance/edit/' (GET, POST, HEAD, OPTIONS) -> fileinstance.edit_view>,
 <Rule '/admin/useridentity/new/' (GET, POST, HEAD, OPTIONS) -> useridentity.create_view>,
 <Rule '/admin/fileinstance/new/' (GET, POST, HEAD, OPTIONS) -> fileinstance.create_view>,
 <Rule '/admin/facet-search/new/' (GET, POST, HEAD, OPTIONS) -> facet-search.create_view>,
 <Rule '/admin/remotetoken/details/' (GET, HEAD, OPTIONS) -> remotetoken.details_view>,
 <Rule '/admin/actionroles/details/' (GET, HEAD, OPTIONS) -> actionroles.details_view>,
 <Rule '/admin/actionusers/details/' (GET, HEAD, OPTIONS) -> actionusers.details_view>,
 <Rule '/admin/userprofile/details/' (GET, HEAD, OPTIONS) -> userprofile.details_view>,
 <Rule '/admin/change_list/get_all' (GET, HEAD, OPTIONS) -> change_list.get_list>,
 <Rule '/admin/remotetoken/action/' (POST, OPTIONS) -> remotetoken.action_view>,
 <Rule '/admin/remotetoken/delete/' (POST, OPTIONS) -> remotetoken.delete_view>,
 <Rule '/admin/actionroles/action/' (POST, OPTIONS) -> actionroles.action_view>,
 <Rule '/admin/actionroles/delete/' (POST, OPTIONS) -> actionroles.delete_view>,
 <Rule '/admin/actionusers/action/' (POST, OPTIONS) -> actionusers.action_view>,
 <Rule '/admin/actionusers/delete/' (POST, OPTIONS) -> actionusers.delete_view>,
 <Rule '/admin/userprofile/action/' (POST, OPTIONS) -> userprofile.action_view>,
 <Rule '/admin/userprofile/delete/' (POST, OPTIONS) -> userprofile.delete_view>,
 <Rule '/admin/change_list/create' (POST, OPTIONS) -> change_list.create>,
 <Rule '/admin/remotetoken/edit/' (GET, POST, HEAD, OPTIONS) -> remotetoken.edit_view>,
 <Rule '/admin/actionroles/edit/' (GET, POST, HEAD, OPTIONS) -> actionroles.edit_view>,
 <Rule '/admin/actionusers/edit/' (GET, POST, HEAD, OPTIONS) -> actionusers.edit_view>,
 <Rule '/admin/userprofile/edit/' (GET, POST, HEAD, OPTIONS) -> userprofile.edit_view>,
 <Rule '/admin/remotetoken/new/' (GET, POST, HEAD, OPTIONS) -> remotetoken.create_view>,
 <Rule '/admin/actionroles/new/' (GET, POST, HEAD, OPTIONS) -> actionroles.create_view>,
 <Rule '/admin/actionusers/new/' (GET, POST, HEAD, OPTIONS) -> actionusers.create_view>,
 <Rule '/admin/userprofile/new/' (GET, POST, HEAD, OPTIONS) -> userprofile.create_view>,
 <Rule '/admin/reindex_es/is_reindex_running' (GET, HEAD, OPTIONS) -> reindex_es.check_reindex_is_running>,
 <Rule '/admin/widgetitem/details/' (GET, HEAD, OPTIONS) -> widgetitem.details_view>,
 <Rule '/admin/reindex_es/reindex' (POST, OPTIONS) -> reindex_es.reindex>,
 <Rule '/admin/identifier/details/' (GET, HEAD, OPTIONS) -> identifier.details_view>,
 <Rule '/admin/widgetitem/action/' (POST, OPTIONS) -> widgetitem.action_view>,
 <Rule '/admin/widgetitem/delete/' (POST, OPTIONS) -> widgetitem.delete_view>,
 <Rule '/admin/identifier/action/' (POST, OPTIONS) -> identifier.action_view>,
 <Rule '/admin/identifier/delete/' (POST, OPTIONS) -> identifier.delete_view>,
 <Rule '/admin/widgetitem/edit/' (GET, POST, HEAD, OPTIONS) -> widgetitem.edit_view>,
 <Rule '/admin/identifier/edit/' (GET, POST, HEAD, OPTIONS) -> identifier.edit_view>,
 <Rule '/admin/widgetitem/new/' (GET, POST, HEAD, OPTIONS) -> widgetitem.create_view>,
 <Rule '/admin/identifier/new/' (GET, POST, HEAD, OPTIONS) -> identifier.create_view>,
 <Rule '/admin/itemtypes/get-all-properties' (GET, HEAD, OPTIONS) -> itemtypesregister.get_property_list>,
 <Rule '/admin/itemtypes/properties' (POST, OPTIONS) -> itemtypesproperties.custom_property_new>,
 <Rule '/admin/itemtypes/properties/' (GET, HEAD, OPTIONS) -> itemtypesproperties.index>,
 <Rule '/admin/itemtypes/register' (POST, OPTIONS) -> itemtypesregister.register>,
 <Rule '/admin/community/details/' (GET, HEAD, OPTIONS) -> community.details_view>,
 <Rule '/admin/itemtypes/mapping/' (GET, HEAD, OPTIONS) -> itemtypesmapping.index>,
 <Rule '/admin/itemtypes/mapping' (POST, OPTIONS) -> itemtypesmapping.mapping_register>,
 <Rule '/admin/itemtypes/restore/' (POST, OPTIONS) -> itemtypesregister.restore_itemtype>,
 <Rule '/admin/itemtypes/restore' (POST, OPTIONS) -> itemtypesregister.restore_itemtype>,
 <Rule '/admin/community/action/' (POST, OPTIONS) -> community.action_view>,
 <Rule '/admin/community/delete/' (POST, OPTIONS) -> community.delete_view>,
 <Rule '/admin/itemtypes/delete/' (POST, OPTIONS) -> itemtypesregister.delete_itemtype>,
 <Rule '/admin/itemtypes/delete' (POST, OPTIONS) -> itemtypesregister.delete_itemtype>,
 <Rule '/admin/itemtypes/import' (POST, OPTIONS) -> itemtypesregister.item_type_import>,
 <Rule '/admin/indexedit/upload' (POST, OPTIONS) -> indexedit.upload_image>,
 <Rule '/admin/community/edit/' (GET, POST, HEAD, OPTIONS) -> community.edit_view>,
 <Rule '/admin/community/new/' (GET, POST, HEAD, OPTIONS) -> community.create_view>,
 <Rule '/admin/location/details/' (GET, HEAD, OPTIONS) -> location.details_view>,
 <Rule '/admin/identify/details/' (GET, HEAD, OPTIONS) -> identify.details_view>,
 <Rule '/admin/location/action/' (POST, OPTIONS) -> location.action_view>,
 <Rule '/admin/location/delete/' (POST, OPTIONS) -> location.delete_view>,
 <Rule '/admin/identify/action/' (POST, OPTIONS) -> identify.action_view>,
 <Rule '/admin/identify/delete/' (POST, OPTIONS) -> identify.delete_view>,
 <Rule '/admin/location/edit/' (GET, POST, HEAD, OPTIONS) -> location.edit_view>,
 <Rule '/admin/identify/edit/' (GET, POST, HEAD, OPTIONS) -> identify.edit_view>,
 <Rule '/admin/location/new/' (GET, POST, HEAD, OPTIONS) -> location.create_view>,
 <Rule '/admin/identify/new/' (GET, POST, HEAD, OPTIONS) -> identify.create_view>,
 <Rule '/admin/sitemap/update_sitemap' (POST, OPTIONS) -> sitemap.update_sitemap>,
 <Rule '/admin/authors/export/' (GET, HEAD, OPTIONS) -> authors/export.index>,
 <Rule '/admin/authors/import/' (GET, HEAD, OPTIONS) -> authors/import.index>,
 <Rule '/admin/authors/edit' (GET, HEAD, OPTIONS) -> authors.edit>,
 <Rule '/admin/authors/add' (GET, HEAD, OPTIONS) -> authors.add>,
 <Rule '/admin/report/set_email_schedule' (POST, OPTIONS) -> report.set_email_schedule>,
 <Rule '/admin/report/get_email_address' (POST, OPTIONS) -> report.get_email_address>,
 <Rule '/admin/report/stats_file_output' (POST, OPTIONS) -> report.get_file_stats_output>,
 <Rule '/admin/report/user_report_data' (GET, HEAD, OPTIONS) -> report.get_user_report_data>,
 <Rule '/admin/resync/get_list' (GET, HEAD, OPTIONS) -> resync.get_list>,
 <Rule '/admin/bucket/details/' (GET, HEAD, OPTIONS) -> bucket.details_view>,
 <Rule '/admin/client/details/' (GET, HEAD, OPTIONS) -> client.details_view>,
 <Rule '/admin/oaiset/details/' (GET, HEAD, OPTIONS) -> oaiset.details_view>,
 <Rule '/admin/bucket/action/' (POST, OPTIONS) -> bucket.action_view>,
 <Rule '/admin/bucket/delete/' (POST, OPTIONS) -> bucket.delete_view>,
 <Rule '/admin/client/action/' (POST, OPTIONS) -> client.action_view>,
 <Rule '/admin/client/delete/' (POST, OPTIONS) -> client.delete_view>,
 <Rule '/admin/resync/create' (POST, OPTIONS) -> resync.create_resync>,
 <Rule '/admin/oaiset/action/' (POST, OPTIONS) -> oaiset.action_view>,
 <Rule '/admin/oaiset/delete/' (POST, OPTIONS) -> oaiset.delete_view>,
 <Rule '/admin/bucket/edit/' (GET, POST, HEAD, OPTIONS) -> bucket.edit_view>,
 <Rule '/admin/client/edit/' (GET, POST, HEAD, OPTIONS) -> client.edit_view>,
 <Rule '/admin/oaiset/edit/' (GET, POST, HEAD, OPTIONS) -> oaiset.edit_view>,
 <Rule '/admin/bucket/new/' (GET, POST, HEAD, OPTIONS) -> bucket.create_view>,
 <Rule '/admin/client/new/' (GET, POST, HEAD, OPTIONS) -> client.create_view>,
 <Rule '/admin/oaiset/new/' (GET, POST, HEAD, OPTIONS) -> oaiset.create_view>,
 <Rule '/admin/items/custom_sort/' (GET, HEAD, OPTIONS) -> items/custom_sort.index>,
 <Rule '/admin/items/bulk-export/' (GET, HEAD, OPTIONS) -> items/bulk-export.index>,
 <Rule '/admin/token/details/' (GET, HEAD, OPTIONS) -> token.details_view>,
 <Rule '/admin/token/action/' (POST, OPTIONS) -> token.action_view>,
 <Rule '/admin/token/delete/' (POST, OPTIONS) -> token.delete_view>,
 <Rule '/admin/items/search/' (GET, HEAD, OPTIONS) -> items/search.index>,
 <Rule '/admin/items/import/' (GET, HEAD, OPTIONS) -> items/import.index>,
 <Rule '/admin/token/edit/' (GET, POST, HEAD, OPTIONS) -> token.edit_view>,
 <Rule '/admin/token/new/' (GET, POST, HEAD, OPTIONS) -> token.create_view>,
 <Rule '/admin/mail/send_test_mail' (POST, OPTIONS) -> mail.send_test_mail>,
 <Rule '/admin/role/details/' (GET, HEAD, OPTIONS) -> role.details_view>,
 <Rule '/admin/user/details/' (GET, HEAD, OPTIONS) -> user.details_view>,
 <Rule '/admin/role/action/' (POST, OPTIONS) -> role.action_view>,
 <Rule '/admin/role/delete/' (POST, OPTIONS) -> role.delete_view>,
 <Rule '/admin/user/action/' (POST, OPTIONS) -> user.action_view>,
 <Rule '/admin/user/delete/' (POST, OPTIONS) -> user.delete_view>,
 <Rule '/admin/role/edit/' (GET, POST, HEAD, OPTIONS) -> role.edit_view>,
 <Rule '/admin/user/edit/' (GET, POST, HEAD, OPTIONS) -> user.edit_view>,
 <Rule '/admin/role/new/' (GET, POST, HEAD, OPTIONS) -> role.create_view>,
 <Rule '/admin/user/new/' (GET, POST, HEAD, OPTIONS) -> user.create_view>,
 <Rule '/admin/persistentidentifier/' (GET, HEAD, OPTIONS) -> persistentidentifier.index_view>,
 <Rule '/admin/sitelicensesendmail/' (GET, POST, HEAD, OPTIONS) -> sitelicensesendmail.index>,
 <Rule '/admin/sitelicensesettings/' (GET, POST, HEAD, OPTIONS) -> sitelicensesettings.index>,
 <Rule '/admin/itemexportsettings/' (GET, POST, HEAD, OPTIONS) -> itemexportsettings.index>,
 <Rule '/admin/loganalysissetting/' (GET, POST, HEAD, OPTIONS) -> loganalysissetting.index>,
 <Rule '/admin/featuredcommunity/' (GET, HEAD, OPTIONS) -> featuredcommunity.index_view>,
 <Rule '/admin/actionsystemroles/' (GET, HEAD, OPTIONS) -> actionsystemroles.index_view>,
 <Rule '/admin/restricted_access/' (GET, POST, HEAD, OPTIONS) -> restricted_access.index>,
 <Rule '/admin/inclusionrequest/' (GET, HEAD, OPTIONS) -> inclusionrequest.index_view>,
 <Rule '/admin/multipartobject/' (GET, HEAD, OPTIONS) -> multipartobject.index_view>,
 <Rule '/admin/sessionactivity/' (GET, HEAD, OPTIONS) -> sessionactivity.index_view>,
 <Rule '/admin/workflowsetting/' (GET, HEAD, OPTIONS) -> workflowsetting.index>,
 <Rule '/admin/rankingsettings/' (GET, POST, HEAD, OPTIONS) -> rankingsettings.index>,
 <Rule '/admin/harvestsettings/' (GET, HEAD, OPTIONS) -> harvestsettings.index_view>,
 <Rule '/admin/recordmetadata/' (GET, HEAD, OPTIONS) -> recordmetadata.index_view>,
 <Rule '/admin/schemasettings/' (GET, HEAD, OPTIONS) -> schemasettings.list>,
 <Rule '/admin/searchsettings/' (GET, POST, HEAD, OPTIONS) -> searchsettings.index>,
 <Rule '/admin/remoteaccount/' (GET, HEAD, OPTIONS) -> remoteaccount.index_view>,
 <Rule '/admin/objectversion/' (GET, HEAD, OPTIONS) -> objectversion.index_view>,
 <Rule '/admin/statssettings/' (GET, POST, HEAD, OPTIONS) -> statssettings.index>,
 <Rule '/admin/webapiaccount/' (GET, POST, HEAD, OPTIONS) -> webapiaccount.index>,
 <Rule '/admin/resource_list/' (GET, HEAD, OPTIONS) -> resource_list.index>,
 <Rule '/admin/useridentity/' (GET, HEAD, OPTIONS) -> useridentity.index_view>,
 <Rule '/admin/fileinstance/' (GET, HEAD, OPTIONS) -> fileinstance.index_view>,
 <Rule '/admin/pdfcoverpage/' (GET, HEAD, OPTIONS) -> pdfcoverpage.index>,
 <Rule '/admin/indexjournal/' (GET, HEAD, OPTIONS) -> indexjournal.index>,
 <Rule '/admin/widgetdesign/' (GET, POST, HEAD, OPTIONS) -> widgetdesign.index>,
 <Rule '/admin/facet-search/' (GET, HEAD, OPTIONS) -> facet-search.index_view>,
 <Rule '/admin/feedbackmail/' (GET, POST, HEAD, OPTIONS) -> feedbackmail.index>,
 <Rule '/admin/stylesetting/' (GET, POST, HEAD, OPTIONS) -> stylesetting.index>,
 <Rule '/admin/remotetoken/' (GET, HEAD, OPTIONS) -> remotetoken.index_view>,
 <Rule '/admin/actionroles/' (GET, HEAD, OPTIONS) -> actionroles.index_view>,
 <Rule '/admin/actionusers/' (GET, HEAD, OPTIONS) -> actionusers.index_view>,
 <Rule '/admin/flowsetting/' (GET, HEAD, OPTIONS) -> flowsetting.index>,
 <Rule '/admin/userprofile/' (GET, HEAD, OPTIONS) -> userprofile.index_view>,
 <Rule '/admin/itemsetting/' (GET, POST, HEAD, OPTIONS) -> itemsetting.index>,
 <Rule '/admin/filepreview/' (GET, POST, HEAD, OPTIONS) -> filepreview.index>,
 <Rule '/admin/change_list/' (GET, HEAD, OPTIONS) -> change_list.index>,
 <Rule '/admin/widgetitem/' (GET, HEAD, OPTIONS) -> widgetitem.index_view>,
 <Rule '/admin/reindex_es/' (GET, HEAD, OPTIONS) -> reindex_es.index>,
 <Rule '/admin/identifier/' (GET, HEAD, OPTIONS) -> identifier.index_view>,
 <Rule '/admin/shibboleth/' (GET, POST, HEAD, OPTIONS) -> shibboleth.index>,
 <Rule '/admin/community/' (GET, HEAD, OPTIONS) -> community.index_view>,
 <Rule '/admin/itemtypes/' (GET, HEAD, OPTIONS) -> itemtypesregister.index>,
 <Rule '/admin/indexedit/' (GET, HEAD, OPTIONS) -> indexedit.index>,
 <Rule '/admin/indexlink/' (GET, POST, HEAD, OPTIONS) -> indexlink.index>,
 <Rule '/admin/site_info/' (GET, POST, HEAD, OPTIONS) -> site_info.index>,
 <Rule '/admin/location/' (GET, HEAD, OPTIONS) -> location.index_view>,
 <Rule '/admin/language/' (GET, POST, HEAD, OPTIONS) -> language.index>,
 <Rule '/admin/identify/' (GET, HEAD, OPTIONS) -> identify.index_view>,
 <Rule '/admin/sitemap/' (GET, HEAD, OPTIONS) -> sitemap.index>,
 <Rule '/admin/authors/' (GET, HEAD, OPTIONS) -> authors.index>,
 <Rule '/admin/bucket/' (GET, HEAD, OPTIONS) -> bucket.index_view>,
 <Rule '/admin/client/' (GET, HEAD, OPTIONS) -> client.index_view>,
 <Rule '/admin/others/' (GET, POST, HEAD, OPTIONS) -> others.index>,
 <Rule '/admin/report/' (GET, HEAD, OPTIONS) -> report.index>,
 <Rule '/admin/resync/' (GET, HEAD, OPTIONS) -> resync.index>,
 <Rule '/admin/oaiset/' (GET, HEAD, OPTIONS) -> oaiset.index_view>,
 <Rule '/admin/token/' (GET, HEAD, OPTIONS) -> token.index_view>,
 <Rule '/admin/role/' (GET, HEAD, OPTIONS) -> role.index_view>,
 <Rule '/admin/user/' (GET, HEAD, OPTIONS) -> user.index_view>,
 <Rule '/admin/mail/' (GET, POST, HEAD, OPTIONS) -> mail.index>,
 <Rule '/api/communities/' (GET, HEAD, OPTIONS) -> invenio_communities_rest.communities_list>,
 <Rule '/adm/locations' (GET, HEAD, OPTIONS) -> invenio_files_rest_api.location_usage_amount_info>,
 <Rule '/c/list/' (GET, HEAD, OPTIONS) -> invenio_communities.community_list>,
 <Rule '/lost-password/' (GET, POST, HEAD, OPTIONS) -> security.forgot_password>,
 <Rule '/communities/' (GET, HEAD, OPTIONS) -> invenio_communities_rest.communities_list>,
 <Rule '/confirm' (GET, POST, HEAD, OPTIONS) -> security.send_confirmation>,
 <Rule '/logout/' (GET, HEAD, OPTIONS) -> security.logout>,
 <Rule '/signup/' (GET, POST, HEAD, OPTIONS) -> security.register>,
 <Rule '/login/' (GET, POST, HEAD, OPTIONS) -> security.login>,
 <Rule '/admin/' (GET, HEAD, OPTIONS) -> admin.index>,
 <Rule '/c/' (GET, HEAD, OPTIONS) -> invenio_communities.index>,
 <Rule '/admin/itemtypes/mapping/schema/<SchemaName>' (GET, HEAD, OPTIONS) -> itemtypesmapping.schema_list>,
 <Rule '/admin/persistentidentifier/export/<export_type>/' (GET, HEAD, OPTIONS) -> persistentidentifier.export>,
 <Rule '/admin/featuredcommunity/export/<export_type>/' (GET, HEAD, OPTIONS) -> featuredcommunity.export>,
 <Rule '/admin/actionsystemroles/export/<export_type>/' (GET, HEAD, OPTIONS) -> actionsystemroles.export>,
 <Rule '/admin/inclusionrequest/export/<export_type>/' (GET, HEAD, OPTIONS) -> inclusionrequest.export>,
 <Rule '/admin/harvestsettings/get_log_detail/<id>/' (GET, HEAD, OPTIONS) -> harvestsettings.get_log_detail>,
 <Rule '/admin/harvestsettings/set_schedule/<id>/' (POST, OPTIONS) -> harvestsettings.set_schedule>,
 <Rule '/admin/multipartobject/export/<export_type>/' (GET, HEAD, OPTIONS) -> multipartobject.export>,
 <Rule '/admin/sessionactivity/export/<export_type>/' (GET, HEAD, OPTIONS) -> sessionactivity.export>,
 <Rule '/admin/harvestsettings/export/<export_type>/' (GET, HEAD, OPTIONS) -> harvestsettings.export>,
 <Rule '/admin/recordmetadata/soft_delete/<id>' (GET, HEAD, OPTIONS) -> recordmetadata.soft_delete>,
 <Rule '/admin/recordmetadata/restore/<id>' (GET, HEAD, OPTIONS) -> recordmetadata.restore>,
 <Rule '/admin/recordmetadata/export/<export_type>/' (GET, HEAD, OPTIONS) -> recordmetadata.export>,
 <Rule '/admin/remoteaccount/export/<export_type>/' (GET, HEAD, OPTIONS) -> remoteaccount.export>,
 <Rule '/admin/objectversion/export/<export_type>/' (GET, HEAD, OPTIONS) -> objectversion.export>,
 <Rule '/admin/resource_list/delete/<resource_id>' (POST, OPTIONS) -> resource_list.delete>,
 <Rule '/admin/resource_list/update/<resource_id>' (POST, OPTIONS) -> resource_list.update>,
 <Rule '/admin/facet-search/details/<id>' (GET, POST, HEAD, OPTIONS) -> facet-search.details_view>,
 <Rule '/admin/facet-search/delete/<id>' (GET, POST, HEAD, OPTIONS) -> facet-search.delete>,
 <Rule '/admin/useridentity/export/<export_type>/' (GET, HEAD, OPTIONS) -> useridentity.export>,
 <Rule '/admin/fileinstance/export/<export_type>/' (GET, HEAD, OPTIONS) -> fileinstance.export>,
 <Rule '/admin/facet-search/export/<export_type>/' (GET, HEAD, OPTIONS) -> facet-search.export>,
 <Rule '/admin/indexjournal/index/<index_id>' (GET, HEAD, OPTIONS) -> indexjournal.get_journal_by_index_id>,
 <Rule '/admin/facet-search/edit/<id>' (GET, POST, HEAD, OPTIONS) -> facet-search.edit_view>,
 <Rule '/admin/change_list/get_change_list/<repo_id>' (GET, HEAD, OPTIONS) -> change_list.get_change_list>,
 <Rule '/admin/remotetoken/export/<export_type>/' (GET, HEAD, OPTIONS) -> remotetoken.export>,
 <Rule '/admin/actionroles/export/<export_type>/' (GET, HEAD, OPTIONS) -> actionroles.export>,
 <Rule '/admin/actionusers/export/<export_type>/' (GET, HEAD, OPTIONS) -> actionusers.export>,
 <Rule '/admin/flowsetting/action/<flow_id>' (POST, OPTIONS) -> flowsetting.upt_flow_action>,
 <Rule '/admin/userprofile/export/<export_type>/' (GET, HEAD, OPTIONS) -> userprofile.export>,
 <Rule '/admin/change_list/delete/<repo_id>' (POST, OPTIONS) -> change_list.delete>,
 <Rule '/admin/change_list/update/<repo_id>' (POST, OPTIONS) -> change_list.update>,
 <Rule '/admin/widgetitem/export/<export_type>/' (GET, HEAD, OPTIONS) -> widgetitem.export>,
 <Rule '/admin/identifier/export/<export_type>/' (GET, HEAD, OPTIONS) -> identifier.export>,
 <Rule '/admin/itemtypes/properties/<property_id>' (POST, OPTIONS) -> itemtypesproperties.custom_property_new>,
 <Rule '/admin/itemtypes/properties/<property_id>' (GET, HEAD, OPTIONS) -> itemtypesproperties.get_property>,
 <Rule '/admin/itemtypes/mapping/<ItemTypeID>' (GET, HEAD, OPTIONS) -> itemtypesmapping.index>,
 <Rule '/admin/itemtypes/restore/<item_type_id>' (POST, OPTIONS) -> itemtypesregister.restore_itemtype>,
 <Rule '/admin/itemtypes/delete/<item_type_id>' (POST, OPTIONS) -> itemtypesregister.delete_itemtype>,
 <Rule '/admin/community/export/<export_type>/' (GET, HEAD, OPTIONS) -> community.export>,
 <Rule '/admin/itemtypes/<item_type_id>/register' (POST, OPTIONS) -> itemtypesregister.register>,
 <Rule '/admin/itemtypes/<item_type_id>/export' (GET, HEAD, OPTIONS) -> itemtypesregister.export>,
 <Rule '/admin/itemtypes/<item_type_id>/render' (GET, HEAD, OPTIONS) -> itemtypesregister.render_itemtype>,
 <Rule '/admin/location/export/<export_type>/' (GET, HEAD, OPTIONS) -> location.export>,
 <Rule '/admin/identify/export/<export_type>/' (GET, HEAD, OPTIONS) -> identify.export>,
 <Rule '/admin/sitemap/task_status/<task_id>' (GET, HEAD, OPTIONS) -> sitemap.get_task_status>,
 <Rule '/admin/resync/toggle_auto/<resync_id>' (POST, OPTIONS) -> resync.toggle_auto>,
 <Rule '/admin/resync/run_import/<resync_id>' (GET, HEAD, OPTIONS) -> resync.run_import>,
 <Rule '/admin/resync/get_logs/<resync_id>' (GET, HEAD, OPTIONS) -> resync.get_logs>,
 <Rule '/admin/resync/run_sync/<resync_id>' (GET, HEAD, OPTIONS) -> resync.run_sync>,
 <Rule '/admin/bucket/export/<export_type>/' (GET, HEAD, OPTIONS) -> bucket.export>,
 <Rule '/admin/client/export/<export_type>/' (GET, HEAD, OPTIONS) -> client.export>,
 <Rule '/admin/resync/delete/<resync_id>' (POST, OPTIONS) -> resync.delete_resync>,
 <Rule '/admin/resync/update/<resync_id>' (POST, OPTIONS) -> resync.update_resync>,
 <Rule '/admin/oaiset/export/<export_type>/' (GET, HEAD, OPTIONS) -> oaiset.export>,
 <Rule '/admin/token/export/<export_type>/' (GET, HEAD, OPTIONS) -> token.export>,
 <Rule '/admin/role/export/<export_type>/' (GET, HEAD, OPTIONS) -> role.export>,
 <Rule '/admin/user/export/<export_type>/' (GET, HEAD, OPTIONS) -> user.export>,
 <Rule '/api/communities/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_communities_rest.static>,
 <Rule '/communities/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_communities_rest.static>,
 <Rule '/admin/workflowsetting/<workflow_id>' (DELETE, OPTIONS) -> workflowsetting.delete_workflow>,
 <Rule '/admin/workflowsetting/<workflow_id>' (POST, OPTIONS, PUT) -> workflowsetting.update_workflow>,
 <Rule '/admin/workflowsetting/<workflow_id>' (GET, HEAD, OPTIONS) -> workflowsetting.workflow_detail>,
 <Rule '/admin/indexjournal/<index_id>' (GET, HEAD, OPTIONS) -> indexjournal.index>,
 <Rule '/admin/flowsetting/<flow_id>' (DELETE, OPTIONS) -> flowsetting.del_flow>,
 <Rule '/admin/flowsetting/<flow_id>' (GET, HEAD, OPTIONS) -> flowsetting.flow_detail>,
 <Rule '/admin/flowsetting/<flow_id>' (POST, OPTIONS) -> flowsetting.new_flow>,
 <Rule '/admin/itemtypes/<item_type_id>' (GET, HEAD, OPTIONS) -> itemtypesregister.index>,
 <Rule '/admin/indexedit/<index_id>' (GET, HEAD, OPTIONS) -> indexedit.index>,
 <Rule '/admin/static/<filename>' (GET, HEAD, OPTIONS) -> admin.static>,
 <Rule '/api/communities/<community_id>' (GET, HEAD, OPTIONS) -> invenio_communities_rest.communities_item>,
 <Rule '/adm/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_files_rest_api.static>,
 <Rule '/c/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_communities.static>,
 <Rule '/lost-password/<token>/' (GET, POST, HEAD, OPTIONS) -> security.reset_password>,
 <Rule '/communities/<community_id>' (GET, HEAD, OPTIONS) -> invenio_communities_rest.communities_item>,
 <Rule '/confirm/<token>' (GET, POST, HEAD, OPTIONS) -> security.confirm_email>,
 <Rule '/static/<filename>' (GET, HEAD, OPTIONS) -> static>,
 <Rule '/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_records.static>,
 <Rule '/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_files_rest_admin.static>,
 <Rule '/static/<filename>' (GET, HEAD, OPTIONS) -> invenio_mail.static>,
 <Rule '/c/<community_id>/' (GET, HEAD, OPTIONS) -> invenio_communities.view>])
FAILED

=================================== FAILURES ===================================
____________________ TestCommunityModelView.test_get_query _____________________

self = <tests.test_admin.TestCommunityModelView object at 0x7fa5e29f4d68>

    def test_get_query(self):
>       assert self.get_query()
E       AttributeError: 'TestCommunityModelView' object has no attribute 'get_query'

tests/test_admin.py:88: AttributeError
_________________ TestCommunityModelView.test_get_count_query __________________

self = <tests.test_admin.TestCommunityModelView object at 0x7fa5e276cba8>

    def test_get_count_query(self):
>       assert self.get_count_query()
E       AttributeError: 'TestCommunityModelView' object has no attribute 'get_count_query'

tests/test_admin.py:91: AttributeError
______________ TestCommunityModelView.test__get_child_index_list _______________

self = <tests.test_admin.TestCommunityModelView object at 0x7fa5e276db70>

    def test__get_child_index_list(self):
>       assert self._get_child_index_list()
E       AttributeError: 'TestCommunityModelView' object has no attribute '_get_child_index_list'

tests/test_admin.py:110: AttributeError
___________________________ test_email_notification ____________________________

app = <Flask 'testapp'>
db = <SQLAlchemy engine=sqlite:////code/modules/invenio-communities/test.db>
communities = (<Community, ID: comm1>, <Community, ID: comm2>, <Community, ID: oth3>)
user = <User 1>

    def test_email_notification(app, db, communities, user):
        """Test mail notification sending for community request."""
        app.config['COMMUNITIES_MAIL_ENABLED'] = True
        # Mock the send method of the Flask-Mail extension
        with app.extensions['mail'].record_messages() as outbox:
            (comm1, comm2, comm3) = communities
            # Create a record and accept it into the community by creating an
            # InclusionRequest and then calling the accept action
            rec1 = Record.create({
                'title': 'Foobar', 'description': 'Baz bar.'})
    
            with pytest.raises(AttributeError):
>               InclusionRequest.create(community=comm1, record=rec1, user=user)
E               Failed: DID NOT RAISE <class 'AttributeError'>

tests/test_invenio_communities.py:161: Failed
______________________ test_communities_rest_get_details _______________________

app = <Flask 'testapp'>
db = <SQLAlchemy engine=sqlite:////code/modules/invenio-communities/test.db>
communities = (<Community, ID: comm1>, <Community, ID: comm2>, <Community, ID: oth3>)

    def test_communities_rest_get_details(app, db, communities):
        """Test the OAI-PMH Sets creation."""
        with app.test_client() as client:
            response = client.get('/api/communities/comm1')
            assert_community_serialization(
                    get_json(response),
                    description='Description1',
                    title='Title1',
                    id='comm1',
                    page='',
                    curation_policy='',
                    logo_url=None,
                    last_record_accepted='2000-01-01T00:00:00+00:00',
                    links={
                        'self': 'http://inveniosoftware.org/api/communities/comm1',
>                       'html': 'http://inveniosoftware.org/communities/comm1/',
                    },
            )

tests/test_invenio_communities.py:320: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

community = {'created': '2023-03-22T04:34:30.030831+00:00', 'curation_policy': '', 'description': 'Description1', 'id': 'comm1', ...}
kwargs = {'curation_policy': '', 'description': 'Description1', 'id': 'comm1', 'last_record_accepted': '2000-01-01T00:00:00+00:00', ...}
key = 'links'
@py_assert0 = {'html': 'http://test_server/c/comm1/', 'self': 'http://test_server/api/communities/comm1'}
@py_assert3 = {'html': 'http://inveniosoftware.org/communities/comm1/', 'self': 'http://inveniosoftware.org/api/communities/comm1'}
@py_assert2 = False
@py_format5 = "{'html': 'http://test_server/c/comm1/',\\n 'self': 'http://test_server/api/communities/comm1'} == {'html': 'http://in...      ^^  --------- -----\n~+  'self': 'http://test_server/api/communities/comm1',\n~?                  ^^^^^^^^\n~  }"
@py_format7 = "assert {'html': 'http://test_server/c/comm1/',\\n 'self': 'http://test_server/api/communities/comm1'} == {'html': 'ht...      ^^  --------- -----\n~+  'self': 'http://test_server/api/communities/comm1',\n~?                  ^^^^^^^^\n~  }"

    def assert_community_serialization(community, **kwargs):
        """Check the values of a community."""
        for key in kwargs.keys():
>           assert community[key] == kwargs[key]
E           AssertionError: assert {'html': 'http://test_server/c/comm1/',\n 'self': 'http://test_server/api/communities/comm1'} == {'html': 'http://inveniosoftware.org/communities/comm1/',\n 'self': 'http://inveniosoftware.org/api/communities/comm1'}
E             Differing items:
E             {'html': 'http://test_server/c/comm1/'} != {'html': 'http://inveniosoftware.org/communities/comm1/'}
E             {'self': 'http://test_server/api/communities/comm1'} != {'self': 'http://inveniosoftware.org/api/communities/comm1'}
E             Full diff:
E               {
E             -  'html': 'http://inveniosoftware.org/communities/comm1/',
E             +  'html': 'http://test_server/c/comm1/',
E             -  'self': 'http://inveniosoftware.org/api/communities/comm1',
E             ?                  ^^  --------- -----
E             +  'self': 'http://test_server/api/communities/comm1',
E             ?                  ^^^^^^^^
E               }

tests/test_invenio_communities.py:61: AssertionError
____________________________ test_email_formatting _____________________________

app = <Flask 'testapp'>
db = <SQLAlchemy engine=sqlite:////code/modules/invenio-communities/test.db>
communities = (<Community, ID: comm1>, <Community, ID: comm2>, <Community, ID: oth3>)
user = <User 1>

    def test_email_formatting(app, db, communities, user):
        """Test formatting of the email message with the default template."""
        app.config['COMMUNITIES_MAIL_ENABLED'] = True
        with app.extensions['mail'].record_messages() as outbox:
            (comm1, comm2, comm3) = communities
            rec1 = Record.create({
                'title': 'Foobar and Bazbar',
                'description': 'On Foobar, Bazbar and <b>more</b>.'
            })
    
            # Request
            with pytest.raises(AttributeError):
>               InclusionRequest.create(community=comm1, record=rec1, user=user)
E               Failed: DID NOT RAISE <class 'AttributeError'>

tests/test_utils.py:187: Failed
____________________ TestCommunityDetailsResource.test_get _____________________

self = <tests.test_views_api.TestCommunityDetailsResource object at 0x7fa5dc06de80>
app = <Flask 'testapp'>
db = <SQLAlchemy engine=sqlite:////code/modules/invenio-communities/test.db>

    def test_get(self,app,db):
        app.register_blueprint(blueprint)
        print(app.url_map)
>       assert 1==2
E       assert 1 == 2
E         +1
E         -2

tests/test_views_api.py:16: AssertionError
=============================== warnings summary ===============================
../invenio-indexer/invenio_indexer/cli.py:108
  /code/modules/invenio-indexer/invenio_indexer/cli.py:108: DeprecationWarning: 'resultcallback' has been renamed to 'result_callback'. The old name will be removed in Click 8.1.
    @queue.resultcallback()

.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/flask_oauthlib/contrib/cache.py:3: DeprecationWarning: 'werkzeug.contrib.cache' is deprecated as of version 0.15 and will be removed in version 1.0. It has moved to https://github.com/pallets/cachelib.
    from werkzeug.contrib.cache import NullCache, SimpleCache, FileSystemCache

.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/past/translation/__init__.py:35: DeprecationWarning: the imp module is deprecated in favour of importlib; see the module's documentation for alternative uses
    import imp

.tox/c1/src/pypdf2/PyPDF2/generic.py:348
  /code/modules/invenio-communities/.tox/c1/src/pypdf2/PyPDF2/generic.py:348: DeprecationWarning: invalid escape sequence \c
    b_("c") : b_("\c"),

tests/test_admin.py: 27 warnings
tests/test_invenio_communities.py: 12 warnings
tests/test_models.py: 3 warnings
tests/test_tasks.py: 3 warnings
tests/test_utils.py: 6 warnings
tests/test_views_api.py: 1 warning
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_ALWAYS_EAGER (use CELERY_TASK_ALWAYS_EAGER instead).
    UserWarning

tests/test_admin.py: 27 warnings
tests/test_invenio_communities.py: 12 warnings
tests/test_models.py: 3 warnings
tests/test_tasks.py: 3 warnings
tests/test_utils.py: 6 warnings
tests/test_views_api.py: 1 warning
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/flask_celeryext/app.py:36: UserWarning: Celery v4 installed, but detected Celery v3 configuration CELERY_EAGER_PROPAGATES_EXCEPTIONS (use CELERY_TASK_EAGER_PROPAGATES instead).
    UserWarning

tests/test_admin.py: 702 warnings
tests/test_invenio_communities.py: 312 warnings
tests/test_models.py: 78 warnings
tests/test_tasks.py: 78 warnings
tests/test_utils.py: 156 warnings
tests/test_views_api.py: 26 warnings
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/invenio_admin/ext.py:73: PendingDeprecationWarning: Usage of model and modelview kwargs are deprecated in favor of view_class, args and kwargs.
    PendingDeprecationWarning

tests/test_admin.py: 27 warnings
tests/test_invenio_communities.py: 12 warnings
tests/test_models.py: 3 warnings
tests/test_tasks.py: 3 warnings
tests/test_utils.py: 6 warnings
tests/test_views_api.py: 1 warning
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/flask_admin/model/base.py:1416: UserWarning: Fields missing from ruleset: created_userId,created_date,updated_userId,updated_date
    warnings.warn(text)

tests/test_admin.py: 24 warnings
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/flask/sessions.py:208: UserWarning: "test_server" is not a valid cookie domain, it must contain a ".". Add an entry to your hosts file, for example "test_server.localdomain", and use that instead.
    ' "{rv}.localdomain", and use that instead.'.format(rv=rv)

tests/test_invenio_communities.py: 11 warnings
tests/test_models.py: 3 warnings
tests/test_tasks.py: 3 warnings
tests/test_utils.py: 4 warnings
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/sqlalchemy/orm/session.py:2455: SAWarning: Usage of the 'Session.add()' operation is not currently supported within the execution stage of the flush process. Results may not be consistent.  Consider using alternative event listeners or connection-level operations instead.
    "event listeners or connection-level operations instead." % method

tests/test_invenio_communities.py::test_oaipmh_sets
  /code/modules/invenio-communities/.tox/c1/lib/python3.6/site-packages/sqlalchemy/orm/session.py:2455: SAWarning: Usage of the 'Session.delete()' operation is not currently supported within the execution stage of the flush process. Results may not be consistent.  Consider using alternative event listeners or connection-level operations instead.
    "event listeners or connection-level operations instead." % method

-- Docs: https://docs.pytest.org/en/stable/warnings.html

---------- coverage: platform linux, python 3.6.15-final-0 -----------
Name                                                   Stmts   Miss Branch BrPart  Cover
----------------------------------------------------------------------------------------
invenio_communities/__init__.py                            5      0      0      0   100%
invenio_communities/admin.py                             115     53     30      1    50%
invenio_communities/bundles.py                            11      0      0      0   100%
invenio_communities/cli.py                                52     26      4      0    46%
invenio_communities/config.py                             40      0      0      0   100%
invenio_communities/errors.py                             14      0     12      0   100%
invenio_communities/ext.py                                34      1     10      1    95%
invenio_communities/forms.py                              68     33     24      0    47%
invenio_communities/links.py                              13      0      4      0   100%
invenio_communities/models.py                            180     20     46      9    85%
invenio_communities/permissions.py                        15      5      2      0    71%
invenio_communities/proxies.py                             5      0      2      1    86%
invenio_communities/receivers.py                          25      4      8      1    73%
invenio_communities/serializers/__init__.py                5      0      0      0   100%
invenio_communities/serializers/response.py               28      3      8      1    89%
invenio_communities/serializers/schemas/__init__.py        2      0      0      0   100%
invenio_communities/serializers/schemas/community.py      33      1      8      2    93%
invenio_communities/signals.py                             6      0      0      0   100%
invenio_communities/tasks.py                              13      2      0      0    85%
invenio_communities/utils.py                              95     20     24      0    80%
invenio_communities/version.py                             3      0      0      0   100%
invenio_communities/views/__init__.py                      2      0      0      0   100%
invenio_communities/views/api.py                          45      3     10      1    93%
invenio_communities/views/ui.py                          110     75      8      0    30%
----------------------------------------------------------------------------------------
TOTAL                                                    919    246    200     17    71%
Coverage HTML written to dir htmlcov

=========================== short test summary info ============================
FAILED tests/test_admin.py::TestCommunityModelView::test_get_query - Attribut...
FAILED tests/test_admin.py::TestCommunityModelView::test_get_count_query - At...
FAILED tests/test_admin.py::TestCommunityModelView::test__get_child_index_list
FAILED tests/test_invenio_communities.py::test_email_notification - Failed: D...
FAILED tests/test_invenio_communities.py::test_communities_rest_get_details
FAILED tests/test_utils.py::test_email_formatting - Failed: DID NOT RAISE <cl...
FAILED tests/test_views_api.py::TestCommunityDetailsResource::test_get - asse...
====== 7 failed, 50 passed, 3 skipped, 1558 warnings in 209.96s (0:03:29) ======
ERROR: InvocationError for command /code/modules/invenio-communities/.tox/c1/bin/pytest --cov=invenio_communities tests -v -vv -s --cov-branch --cov-report=term --cov-report=html --basetemp=/code/modules/invenio-communities/.tox/c1/tmp (exited with code 1)
___________________________________ summary ____________________________________
ERROR:   c1: commands failed
